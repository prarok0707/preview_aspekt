!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WEBPACK_GLOBAL=e():t.WEBPACK_GLOBAL=e()}(this,function(){"use strict";var i={d:function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},t={};i.r(t),i.d(t,{addClients:function(){return Ko},changeShowInfoClients:function(){return Jo},closeAllSearchResults:function(){return fs},closeTabFilter:function(){return Vo},getButtonsLogicData:function(){return as},getCurrentWeek:function(){return Yo},getDay:function(){return ws},getDays:function(){return Ss},getDaysTo:function(){return Cs},getExamsDates:function(){return hs},getFieldsData:function(){return rs},getReasons:function(){return ss},getSelectedOption:function(){return As},getStage:function(){return ts},getWorkdayDate:function(){return ds},hideModal:function(){return Fo},openModal:function(){return ps},resetStage:function(){return es},selectRedraw:function(){return ks},selectedOption:function(){return xs},setButtonsLogic:function(){return ns},setCalendar:function(){return _s},setClients:function(){return Go},setCurrentWeek:function(){return jo},setDay:function(){return bs},setDays:function(){return Es},setDaysTo:function(){return Ls},setExamsDates:function(){return us},setFields:function(){return is},setReasons:function(){return os},setStage:function(){return Qo},setTimetable:function(){return ys},setWorkdayDate:function(){return cs},showConfirmUser:function(){return gs},showNotification:function(){return vs},showSearchResultList:function(){return ms}});class x{constructor(t={}){var e={content:t.viewport.children[0],direction:"all",pointerMode:"all",scrollMode:void 0,bounce:!0,bounceForce:.1,friction:.05,textSelection:!1,inputsFocus:!0,emulateScroll:!1,preventDefaultOnEmulateScroll:!1,preventPointerMoveDefault:!0,lockScrollOnDragDirection:!1,pointerDownPreventDefault:!0,dragDirectionTolerance:40,onPointerDown(){},onPointerUp(){},onPointerMove(){},onClick(){},onUpdate(){},onWheel(){},shouldScroll(){return!0}};this.props={...e,...t},this.props.viewport&&this.props.viewport instanceof Element?this.props.content?(this.isDragging=!1,this.isTargetScroll=!1,this.isScrolling=!1,this.isRunning=!1,this.position={...e={x:0,y:0}},this.velocity={...e},this.dragStartPosition={...e},this.dragOffset={...e},this.clientOffset={...e},this.dragPosition={...e},this.targetPosition={...e},this.scrollOffset={...e},this.rafID=null,this.events={},this.updateMetrics(),this.handleEvents()):console.error("ScrollBooster init error: Viewport does not have any content"):console.error('ScrollBooster init error: "viewport" config property must be present and must be Element')}updateOptions(t={}){this.props={...this.props,...t},this.props.onUpdate(this.getState()),this.startAnimationLoop()}updateMetrics(){var t;this.viewport={width:this.props.viewport.clientWidth,height:this.props.viewport.clientHeight},this.content={width:(t=this.props.content,Math.max(t.offsetWidth,t.scrollWidth)),height:(t=this.props.content,Math.max(t.offsetHeight,t.scrollHeight))},this.edgeX={from:Math.min(-this.content.width+this.viewport.width,0),to:0},this.edgeY={from:Math.min(-this.content.height+this.viewport.height,0),to:0},this.props.onUpdate(this.getState()),this.startAnimationLoop()}startAnimationLoop(){this.isRunning=!0,cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame(()=>this.animate())}animate(){var t;this.isRunning&&(this.updateScrollPosition(),this.isMoving()||(this.isRunning=!1,this.isTargetScroll=!1),t=this.getState(),this.setContentPosition(t),this.props.onUpdate(t),this.rafID=requestAnimationFrame(()=>this.animate()))}updateScrollPosition(){this.applyEdgeForce(),this.applyDragForce(),this.applyScrollForce(),this.applyTargetForce();var t=1-this.props.friction;this.velocity.x*=t,this.velocity.y*=t,"vertical"!==this.props.direction&&(this.position.x+=this.velocity.x),"horizontal"!==this.props.direction&&(this.position.y+=this.velocity.y),this.props.bounce&&!this.isScrolling||this.isTargetScroll||(this.position.x=Math.max(Math.min(this.position.x,this.edgeX.to),this.edgeX.from),this.position.y=Math.max(Math.min(this.position.y,this.edgeY.to),this.edgeY.from))}applyForce(t){this.velocity.x+=t.x,this.velocity.y+=t.y}applyEdgeForce(){var t,e,n,a,i,r,o,s,l,c,d;this.props.bounce&&!this.isDragging&&(t=this.position.x<this.edgeX.from,e=this.position.x>this.edgeX.to,n=this.position.y<this.edgeY.from,a=this.position.y>this.edgeY.to,r=n||a,(i=t||e)||r)&&(o=t?this.edgeX.from:this.edgeX.to,s=n?this.edgeY.from:this.edgeY.to,o=o-this.position.x,s=s-this.position.y,l={x:o*this.props.bounceForce,y:s*this.props.bounceForce},c=this.position.x+(this.velocity.x+l.x)/this.props.friction,d=this.position.y+(this.velocity.y+l.y)/this.props.friction,(t&&c>=this.edgeX.from||e&&c<=this.edgeX.to)&&(l.x=o*this.props.bounceForce-this.velocity.x),(n&&d>=this.edgeY.from||a&&d<=this.edgeY.to)&&(l.y=s*this.props.bounceForce-this.velocity.y),this.applyForce({x:i?l.x:0,y:r?l.y:0}))}applyDragForce(){var t,e;this.isDragging&&(t=this.dragPosition.x-this.position.x,e=this.dragPosition.y-this.position.y,this.applyForce({x:t-this.velocity.x,y:e-this.velocity.y}))}applyScrollForce(){this.isScrolling&&(this.applyForce({x:this.scrollOffset.x-this.velocity.x,y:this.scrollOffset.y-this.velocity.y}),this.scrollOffset.x=0,this.scrollOffset.y=0)}applyTargetForce(){this.isTargetScroll&&this.applyForce({x:.08*(this.targetPosition.x-this.position.x)-this.velocity.x,y:.08*(this.targetPosition.y-this.position.y)-this.velocity.y})}isMoving(){return this.isDragging||this.isScrolling||.01<=Math.abs(this.velocity.x)||.01<=Math.abs(this.velocity.y)}scrollTo(t={}){this.isTargetScroll=!0,this.targetPosition.x=-t.x||0,this.targetPosition.y=-t.y||0,this.startAnimationLoop()}setPosition(t={}){this.velocity.x=0,this.velocity.y=0,this.position.x=-t.x||0,this.position.y=-t.y||0,this.startAnimationLoop()}getState(){return{isMoving:this.isMoving(),isDragging:!(!this.dragOffset.x&&!this.dragOffset.y),position:{x:-this.position.x,y:-this.position.y},dragOffset:this.dragOffset,dragAngle:this.getDragAngle(this.clientOffset.x,this.clientOffset.y),borderCollision:{left:this.position.x>=this.edgeX.to,right:this.position.x<=this.edgeX.from,top:this.position.y>=this.edgeY.to,bottom:this.position.y<=this.edgeY.from}}}getDragAngle(t,e){return Math.round(Math.atan2(t,e)*(180/Math.PI))}getDragDirection(t,e){return Math.abs(90-Math.abs(t))<=90-e?"horizontal":"vertical"}setContentPosition(t){"transform"===this.props.scrollMode&&(this.props.content.style.transform=`translate(${-t.position.x}px, ${-t.position.y}px)`),"native"===this.props.scrollMode&&(this.props.viewport.scrollTop=t.position.y,this.props.viewport.scrollLeft=t.position.x)}handleEvents(){const s={x:0,y:0},l={x:0,y:0};let i=null,n=null,c=!1;const d=t=>{var e,n,a;this.isDragging&&({pageX:t,pageY:e,clientX:n,clientY:a}=c?t.touches[0]:t,this.dragOffset.x=t-s.x,this.dragOffset.y=e-s.y,this.clientOffset.x=n-l.x,this.clientOffset.y=a-l.y,(5<Math.abs(this.clientOffset.x)&&!i||5<Math.abs(this.clientOffset.y)&&!i)&&(i=this.getDragDirection(this.getDragAngle(this.clientOffset.x,this.clientOffset.y),this.props.dragDirectionTolerance)),this.props.lockScrollOnDragDirection&&"all"!==this.props.lockScrollOnDragDirection&&(i!==this.props.lockScrollOnDragDirection||!c)&&c?(this.dragPosition.x=this.dragStartPosition.x,this.dragPosition.y=this.dragStartPosition.y):(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y))};this.events.pointerdown=t=>{c=!(!t.touches||!t.touches[0]),this.props.onPointerDown(this.getState(),t,c);var{pageX:e,pageY:n,clientX:a,clientY:i}=c?t.touches[0]:t,r=this.props["viewport"],o=r.getBoundingClientRect();if(!(a-o.left>=r.clientLeft+r.clientWidth)&&!(i-o.top>=r.clientTop+r.clientHeight)&&this.props.shouldScroll(this.getState(),t)&&2!==t.button&&("mouse"!==this.props.pointerMode||!c)&&("touch"!==this.props.pointerMode||c)&&!(this.props.inputsFocus&&-1<["input","textarea","button","select","label"].indexOf(t.target.nodeName.toLowerCase()))){if(this.props.textSelection){const s=((t,e,n)=>{var a=t.childNodes,i=document.createRange();for(let t=0;t<a.length;t++){var r=a[t];if(3===r.nodeType){i.selectNodeContents(r);var o=i.getBoundingClientRect();if(e>=o.left&&n>=o.top&&e<=o.right&&n<=o.bottom)return r}}return!1})(t.target,a,i);if(s)return;(o=window.getSelection?window.getSelection():document.selection)&&(o.removeAllRanges?o.removeAllRanges():o.empty&&o.empty())}this.isDragging=!0,s.x=e,s.y=n,l.x=a,l.y=i,this.dragStartPosition.x=this.position.x,this.dragStartPosition.y=this.position.y,d(t),this.startAnimationLoop(),!c&&this.props.pointerDownPreventDefault&&t.preventDefault()}},this.events.pointermove=t=>{!t.cancelable||"all"!==this.props.lockScrollOnDragDirection&&this.props.lockScrollOnDragDirection!==i||t.preventDefault(),d(t),this.props.onPointerMove(this.getState(),t,c)},this.events.pointerup=t=>{this.isDragging=!1,i=null,this.props.onPointerUp(this.getState(),t,c)},this.events.wheel=t=>{var e=this.getState();this.props.emulateScroll&&(this.velocity.x=0,this.velocity.y=0,this.isScrolling=!0,this.scrollOffset.x=-t.deltaX,this.scrollOffset.y=-t.deltaY,this.props.onWheel(e,t),this.startAnimationLoop(),clearTimeout(n),n=setTimeout(()=>this.isScrolling=!1,80),this.props.preventDefaultOnEmulateScroll)&&this.getDragDirection(this.getDragAngle(-t.deltaX,-t.deltaY),this.props.dragDirectionTolerance)===this.props.preventDefaultOnEmulateScroll&&t.preventDefault()},this.events.scroll=()=>{var{scrollLeft:t,scrollTop:e}=this.props.viewport;3<Math.abs(this.position.x+t)&&(this.position.x=-t,this.velocity.x=0),3<Math.abs(this.position.y+e)&&(this.position.y=-e,this.velocity.y=0)},this.events.click=t=>{var e=this.getState(),n="vertical"!==this.props.direction?e.dragOffset.x:0,a="horizontal"!==this.props.direction?e.dragOffset.y:0;5<Math.max(Math.abs(n),Math.abs(a))&&(t.preventDefault(),t.stopPropagation()),this.props.onClick(e,t,c)},this.events.contentLoad=()=>this.updateMetrics(),this.events.resize=()=>this.updateMetrics(),this.props.viewport.addEventListener("mousedown",this.events.pointerdown),this.props.viewport.addEventListener("touchstart",this.events.pointerdown,{passive:!1}),this.props.viewport.addEventListener("click",this.events.click),this.props.viewport.addEventListener("wheel",this.events.wheel,{passive:!1}),this.props.viewport.addEventListener("scroll",this.events.scroll),this.props.content.addEventListener("load",this.events.contentLoad,!0),window.addEventListener("mousemove",this.events.pointermove),window.addEventListener("touchmove",this.events.pointermove,{passive:!1}),window.addEventListener("mouseup",this.events.pointerup),window.addEventListener("touchend",this.events.pointerup),window.addEventListener("resize",this.events.resize)}destroy(){this.props.viewport.removeEventListener("mousedown",this.events.pointerdown),this.props.viewport.removeEventListener("touchstart",this.events.pointerdown),this.props.viewport.removeEventListener("click",this.events.click),this.props.viewport.removeEventListener("wheel",this.events.wheel),this.props.viewport.removeEventListener("scroll",this.events.scroll),this.props.content.removeEventListener("load",this.events.contentLoad),window.removeEventListener("mousemove",this.events.pointermove),window.removeEventListener("touchmove",this.events.pointermove),window.removeEventListener("mouseup",this.events.pointerup),window.removeEventListener("touchend",this.events.pointerup),window.removeEventListener("resize",this.events.resize)}}const D=[];let e=document.querySelectorAll("[data-recalc-min-width]");e.length&&(e=[...e]);function o(){var{nameContainer:t,value:e}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};("reports"===t?change_section:update_table)(e)}const s=e=>{if(e){let t=(()=>{if(!e)return 0;let t=parseInt(getComputedStyle(e).getPropertyValue("--table-padding"));return t=isNaN(t)?0:t})();if(e.style.minWidth="0px",0<=e.offsetWidth-e.scrollWidth&&(t=0),e.style.minWidth=e.scrollWidth+t+"px","0px"!==e.style.minWidth&&D.length)for(let t=0;t<D.length;t++)D[t].updateMetrics()}},U=(window.addEventListener("resize",()=>{if(e.length)for(let t=0;t<e.length;t++)s(e[t])}),()=>{if(!e.length)return null;for(let t=0;t<e.length;t++)s(e[t])}),Z=t=>{if(t){const r=t.classList.contains("active")&&t.hasAttribute("data-tab-radio-toggle"),e=t.dataset.tabRadio;let i=t.dataset.tabRadioButton;t=t.dataset.tabRadioCalendar;t&&(i=t),e&&i&&document.body.querySelector(`[data-tab-radio="${e}"][data-tab-radio-body="${i}"]`)&&(document.querySelectorAll(`[data-tab-radio="${e}"]`).forEach(t=>{var e=t.dataset.tabRadioButton||null,n=t.dataset.tabRadioCalendar||null,a=t.dataset.tabRadioBody||null;e!==i&&a!==i&&n!==i||r?(t.classList.remove("active"),a&&(t.style.display="none")):(a&&t.style.removeProperty("display"),setTimeout(()=>{t.classList.add("active")},0))}),U())}},d={},u={},h={},p=new Map,m=e=>{var t=e.closest("[data-tab-redraw-container]");if(!t)return"Контейнер не найден";t.querySelectorAll("[data-tab-redraw]").forEach(t=>{t===e?t.classList.add("active"):t.classList.remove("active")})},G=e=>{var e=e["target"],n=e.closest("[data-tab-redraw-container]");if(n){n=n.dataset.tabRedrawContainer;let t=!0;var a=e.closest("[date-datepicker-range]"),i=e.dataset.tabRedraw;(t=a?2===p.get(e).selectedDates.length:t)&&(m(e),o({nameContainer:n,value:i}))}},v=t=>{var e="bottom left";if(!t||!t.length||"string"!=typeof t)return e;var n=t=>{let e=!1;switch(t){case"top":case"right":case"bottom":case"left":e=t}return e};let a=e;var[e,t]=t.split(" "),e=n(e),n=n(t);return a=e&&n?e+" "+n:a},g=t=>{if(!t||"string"!=typeof t)return 0;const[e=0,n=0,a=0]=t.split(" "),i=(()=>{let t=0;if(n&&"string"==typeof n)switch(n.toLowerCase()){case"январь":case"января":t=0;break;case"февраль":case"февраля":t=1;break;case"март":case"марта":t=2;break;case"апрель":case"апреля":t=3;break;case"май":case"майя":t=4;break;case"июнь":case"июня":t=5;break;case"июль":case"июля":t=6;break;case"август":case"августа":t=7;break;case"сентябрь":case"сентября":t=8;break;case"октябрь":case"октября":t=9;break;case"ноябрь":case"ноября":t=10;break;case"декабрь":case"декабря":t=11}return t})();return+new Date(a,i,e)},y=(t,e)=>{t=d[t],e=isNaN(e)?g(e):1e3*+e;t&&!isNaN(e)&&t.selectDate(e)},b=(t,e)=>{var n,t=u[t];return t&&e&&({from:e,to:n}=e,e)&&n?(e=isNaN(e)?g(e):1e3*+e,n=isNaN(n)?g(n):1e3*+n,void t.selectDate([e,n])):null},w=(t,e)=>{var n,a,t=h[t];return t&&e&&({from:e,to:n}=e,e)&&n?(e=isNaN(e)?g(e):1e3*+e,n=isNaN(n)?g(n):1e3*+n,[t,a]=t,t.selectDate(e),void a.selectDate(n)):null},E=Intl.DateTimeFormat("ru",{day:"numeric",month:"long",year:"numeric"}),S=()=>{const i=new Event("change"),t=document.body.querySelectorAll("[date-datepicker-range]"),r=[];t.length&&(t.forEach(t=>{var e,n=t.id,a=t.querySelector("input");a&&"init"!==t.dataset.datepickerRange&&(t.dataset.datepickerRange="init",t=a.value,e=v(a.dataset.dpPosition),e=new AirDatepicker(a,{classes:"custom-datepicker",autoClose:!0,range:!0,multipleDatesSeparator:" - ",isMobile:document.body.offsetWidth<768,onSelect(t){var e,n,t=t["datepicker"];t.$el.dispatchEvent(i),function(t,e){var n,e=1<arguments.length&&void 0!==e?e:"range";(t||t instanceof AirDatepicker)&&(n=t.$el,t=t.selectedDates.length,"range"===e)&&2===t&&Z(n)}(t),e=(t=t).$el,(n=e.closest("[data-tab-redraw-container]"))&&e.hasAttribute("data-tab-redraw")&&2===t.selectedDates.length&&(t=e.dataset.tabRedraw,n=n.dataset.tabRedrawContainer,m(e),o({nameContainer:n,value:t}))},position:e}),r.push(e),a.hasAttribute("data-tab-redraw")&&p.set(a,e),n)&&(u[n]=e,t)&&([a,e]=t.split(" - "),b(n,{from:a,to:e}))}),window.addEventListener("resize",()=>{var e=document.body.offsetWidth;if(r.length)for(let t=0;t<r.length;t++)r[t].update({isMobile:e<768})}))};var K=()=>{{const t=document.body.querySelectorAll("[date-datepicker]"),s=[];t.length&&(t.forEach(t=>{var e=t.id,t=t.querySelector("input");if(t){const n=t.value,i=t.hasAttribute("data-go-week"),a=v(t.dataset.dpPosition),r=Boolean(t.getAttribute("data-dp-as-popup")),o=new AirDatepicker(t,{classes:"custom-datepicker",autoClose:!0,isMobile:r||document.body.offsetWidth<768,position:a,dateFormat(t){return E.format(t)},onSelect(t){var t=t["datepicker"],e=t;if(e){var n=e.$el.dataset.radioName;if(n){n=document.body.querySelectorAll(`input[type='radio'][name='${n}']`);if(n.length){const a=t=>{t=t.target;e.selectedDates.length&&(e.clear({silent:!0}),t.removeEventListener("change",a))};n.forEach(t=>{t.checked=!1,t.addEventListener("change",a)})}}}i&&(n=t)instanceof AirDatepicker&&(n=+n.selectedDates[0]/1e3,isNaN(n)||week.go_week(n))}});s.push(o),e&&(d[e]=o,n)&&y(e,n)}}),window.addEventListener("resize",()=>{var e=document.body.offsetWidth;if(s.length)for(let t=0;t<s.length;t++){var n=s[t];Boolean(n.$el.getAttribute("data-dp-as-popup"))||n.update({isMobile:e<768})}}))}S();{const e=document.body.querySelectorAll(".input-date-to"),r=[];e.length&&(e.forEach(t=>{var e=t.id,n=t.querySelector('[date-datepicker-to="min"]'),t=t.querySelector('[date-datepicker-to="max"]');let a,i;n&&t&&(a=new AirDatepicker(n,{classes:"custom-datepicker",isMobile:document.body.offsetWidth<768,autoClose:!0,dateFormat(t){return E.format(t)},onSelect(t){t=t.date;i.update({minDate:t})}}),i=new AirDatepicker(t,{classes:"custom-datepicker",isMobile:document.body.offsetWidth<768,autoClose:!0,dateFormat(t){return E.format(t)},onSelect(t){t=t.date;a.update({maxDate:t})}}),r.push(a,i),e)&&(h[e]=[a,i],n=n.value,t=t.value,n)&&t&&w(e,{from:n,to:t})}),window.addEventListener("resize",()=>{var e=document.body.offsetWidth;if(r.length)for(let t=0;t<r.length;t++)r[t].update({isMobile:e<768})}))}};const L=t=>{new Inputmask({regex:"[0-2][0-9]:[0-5][0-9]"}).mask(t)},C=e=>{var e=e["target"],n=e.inputmask.unmaskedvalue();if(2<=n[0]&&n[1]&&3<n[1]&&(e.value=23),!(n.length<4)){let t=e.closest("[data-range-time]").querySelectorAll('[type="tel"]')[1];t&&((t=t.inputmask.unmaskedvalue()).length<4||(e.value=n>=t?"":n))}},k=e=>{var e=e["target"],n=e.inputmask.unmaskedvalue();if(2<=n[0]&&n[1]&&3<n[1]&&(e.value=23),!(n.length<4)){let t=e.closest("[data-range-time]").querySelectorAll('[type="tel"]')[0];t&&((t=t.inputmask.unmaskedvalue()).length<4||(e.value=n<=t?"":n))}},tt=t=>{var e,t=t.querySelectorAll('[type="tel"]');t.length&&(e=t[0],t=t[1],e&&(L(e),e.addEventListener("input",C)),t)&&(L(t),t.addEventListener("input",k))};var et=()=>{var t=document.body.querySelectorAll("[data-range-time]");t.length&&t.forEach(t=>tt(t))},dt=()=>{var t=document.body.querySelectorAll(".input-file");t.length&&t.forEach(i=>{const t=i.querySelector("input"),r=i.querySelector(".input-file__label");t&&r&&(t.onchange=()=>{var e=t.files[0];if(e){let t=e.name;20<t.length&&(t=t.slice(0,20)+"…");{var n=i;const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{var t=n.querySelector(".input-file__icon");t&&(t.classList.add("image"),t.innerHTML=`<img src="${a.result}" alt="Photo">`)}}r.textContent=""===t?r.textContent:t}})})};function ut(t){var e=(t=t["target"]).closest(".item-workday__spoller");t.closest(".item-workday__button")&&yt(this,e)}const ht=t=>{var t=t["target"],e=t.inputmask.unmaskedvalue();3<=e.length&&e<1&&(t.value="001")},pt=t=>{var t=t["target"],e=t.inputmask.unmaskedvalue(),n=(2<=e[0]&&e[1]&&3<e[1]&&(t.value=2),t);if(n&&n.inputmask&&1===n.inputmask.unmaskedvalue().length){e=n.dataset.radioName;if(e){e=document.body.querySelectorAll(`input[type='radio'][name='${e}']`);if(e.length){const a=t=>{t=t.target;n.value="",t.removeEventListener("change",a)};e.forEach(t=>{t.checked=!1,t.addEventListener("change",a)})}}}},mt=t=>{let r=t["target"];t=r.inputmask.unmaskedvalue();if(2<=t[0]&&t[1]&&3<t[1]&&(r.value=23),2<=t[4]&&t[5]&&3<t[5]&&(r.value=t.slice(0,4)+"23"),8===t.length){var e=r.closest(".item-workday__inputs"),o=e.querySelector('[data-workday-input="min"]'),s=e.querySelector('[data-workday-input="max"]'),e=e.querySelectorAll('[data-workday-input="range"]'),o=o.inputmask.unmaskedvalue();let n=t.slice(0,4),a=t.slice(4,8);t=s.inputmask.unmaskedvalue();let i=n>=a?n:""+n+a;o&&o>=n&&(i=""),t&&t<=a&&(i=""),e.length&&e.forEach(t=>{var e;t===r||(t=t.inputmask.unmaskedvalue()).length<8||(e=t.slice(0,4),t=t.slice(4,8),n>=e&&n<=t&&(i=""),e<=a&&a<=t&&(i=""))}),r.value=i}},vt={click:[],input:[]},ft=t=>{var e=t["target"],n=e.inputmask.unmaskedvalue();if(2<=n[0]&&n[1]&&3<n[1]&&(e.value=23),4<=n.length){const t=e.closest(".item-workday__inputs"),r=t.querySelector('[data-workday-input="max"]').inputmask.unmaskedvalue();var a=t,i=n;(a=a.querySelectorAll('[data-workday-input="range"]')).length&&a.forEach(t=>{var e=t.inputmask.unmaskedvalue();e.length<8||e.slice(0,4)<=i&&(t.removeEventListener("input",mt),t.inputmask.remove(),t.remove())}),4<=r.length&&r<=n&&(e.value="")}},gt=t=>{var e=t["target"],n=e.inputmask.unmaskedvalue();if(2<=n[0]&&n[1]&&3<n[1]&&(e.value=23),4<=n.length){const t=e.closest(".item-workday__inputs"),r=t.querySelector('[data-workday-input="min"]').inputmask.unmaskedvalue();var a=t,i=n;(a=a.querySelectorAll('[data-workday-input="range"]')).length&&a.forEach(t=>{var e=t.inputmask.unmaskedvalue();e.length<8||e.slice(4,8)>=i&&(t.removeEventListener("input",mt),t.inputmask.remove(),t.remove())}),4<=r.length&&n<=r&&(e.value="")}},yt=(t,e)=>{let n=e.dataset.workdayDayName;n&&(n=n.toLowerCase(),t=t.querySelector(`[data-workday-day="${n}"]`))&&(e.classList.contains("show")||e.classList.contains("active")?t.classList.add("active"):t.classList.remove("active"))},_t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200;t.classList.contains("closing")||(t.classList.add("closing"),t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",t.style.transitionProperty="height",t.style.transitionDuration=e+"ms",setTimeout(()=>{t.style.height="0"},0),setTimeout(()=>{t.removeAttribute("style"),t.style.display="none",t.classList.remove("closing")},e))},bt=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200;if(!e.classList.contains("opening")){let t;e.classList.add("opening"),e.style.display="block",t=e.offsetHeight,e.style.height="0",e.style.width="100%",e.style.overflow="hidden",e.style.transitionProperty="height",e.style.transitionDuration=n+"ms",setTimeout(()=>{e.style.height=t+"px"},0),setTimeout(()=>{e.removeAttribute("style"),e.classList.remove("opening")},n)}},wt=t=>({button:t.querySelector("[data-spoller-button]")||null,body:t.querySelector("[data-spoller-body]")||null}),Et=t=>{if(t.classList.contains("spoller-offline")){t.classList.remove("spoller-offline");const n=t.querySelectorAll("[data-spoller]");for(var e of n){const n=wt(e)["body"];(e.classList.contains("show")?bt:(e.classList.remove("active"),_t))(n,0)}}},St=r=>{let t=!1;if(r.classList.contains("modal__body")){const s=r.querySelector("[data-spoller-button]"),a=r.querySelector("[data-spoller-body]");t=!s||!a}if(!t){if(!r.querySelector(".show[data-spoller]")){var o=r;if(o){let t=o.dataset.spollerBreakpoint,i=0,r=9999;if(o.classList.add("spoller-offline"),Et(o),t){for(var e of t=t.split("|"))e.includes("min")&&(i=+e.slice(3)),e.includes("max")&&(r=+e.slice(3));var n=()=>{var t=document.body.offsetWidth;if(t<i||t>r){var e=o;if(!e.classList.contains("spoller-offline")){e.classList.add("spoller-offline");const a=e.querySelectorAll("[data-spoller]");for(var n of a){const a=wt(n)["body"];n.classList.remove("active"),n.classList.remove("show"),bt(a,0)}}}else(t>i||t<r)&&Et(o)};n(),window.addEventListener("resize",n)}}}const s=r.querySelectorAll("[data-spoller]");for(let i of s){const{button:l,body:c}=wt(i);l&&c&&l.addEventListener("click",t=>{if(t.preventDefault(),!(r.classList.contains("spoller-offline")||c.classList.contains("opening")||c.classList.contains("closing"))){var e,n=s,a=c;for(e of n){const n=wt(e)["body"];n===a||n.hasAttribute("style")||(e.classList.remove("active"),_t(n,Lt))}i.classList.toggle("active"),Ct(c),i.classList.contains("show")&&(i.classList.remove("show"),i.classList.remove("active"))}})}}},Lt=200,Ct=t=>{(t.hasAttribute("style")?bt:_t)(t,Lt)};let kt=[];const xt=t=>{var t=t["target"],e=t.closest(".workday"),n=t.dataset.workdayDay;e&&n.length&&(e=e.querySelector(`[data-workday-day-name="${n}"]`))&&(n=e.querySelector("[data-spoller-body]"),Ct(n),e.classList.toggle("active"),t.classList.toggle("active"),e.classList.contains("show"))&&(e.classList.remove("active"),e.classList.remove("show"))},At=t=>{var{start:t,stop:e}=t,n=document.createElement("input");return n.dataset.workdayInput="range",n.type="tel",n.placeholder="**:** - **:**",t&&e&&(n.value=t+" - "+e),n},Dt=r=>{var t,e=r["keyDay"],n=document.createElement("div"),a=(n.classList="item-workday__body",document.createElement("span")),i=(a.classList="item-workday__day-name",a.textContent=(()=>{let t="";switch(e){case"day_1":t="Понедельник";break;case"day_2":t="Вторник";break;case"day_3":t="Среда";break;case"day_4":t="Четверг";break;case"day_5":t="Пятница";break;case"day_6":t="Суббота";break;case"day_7":t="Воскресенье";break;default:t=""}return t})(),(t=document.createElement("div")).classList="item-workday__spoller-body",t.dataset.spollerBody="",(()=>{var{start:t,stop:e,breaks:n}=r,a=document.createElement("div"),t=(a.classList="item-workday__inputs",t=t,(i=document.createElement("div")).classList="input-time",t=`
    <span>Начало рабочего дня</span>
      <div class="input-time__group">
        <input
          data-workday-input="min"
          type="tel"
          placeholder="**:**"
          ${t?`value="${t}"`:""}
        />
    </div>
  `,i.insertAdjacentHTML("beforeend",t),i),i=(t=>{var e=document.createElement("div"),n=(e.classList="item-workday__input-range input-time input-time_range",document.createElement("span")),a=(n.textContent="Перерыв",document.createElement("div")),i=(a.classList="input-time__group",'\n  <button\n      class="item-workday__added-range input-time__added-range"\n      type="button"\n    >\n      <svg viewBox="0 0 18 18">\n        <path\n          d="M9 0.25C9.41421 0.25 9.75 0.585786 9.75 1V8.25H17C17.4142 8.25 17.75 8.58579 17.75 9C17.75 9.41421 17.4142 9.75 17 9.75H9.75V17C9.75 17.4142 9.41421 17.75 9 17.75C8.58579 17.75 8.25 17.4142 8.25 17V9.75H1C0.585786 9.75 0.25 9.41421 0.25 9C0.25 8.58579 0.585786 8.25 1 8.25H8.25V1C8.25 0.585786 8.58579 0.25 9 0.25Z"\n        />\n      </svg>\n  </button>\n  ');if(e.append(n),t&&Array.isArray(t)&&t.length)for(var[r,o]of t){const t=At({start:r,stop:o});a.append(t)}else{const t=At({});a.append(t)}return a.insertAdjacentHTML("beforeend",i),e.append(a),e})(n),n=(n=e,(e=document.createElement("div")).classList="input-time",n=`
    <span>Конец рабочего дня</span>
      <div class="input-time__group">
        <input
          data-workday-input="max"
          type="tel"
          placeholder="**:**"
          ${n?`value="${n}"`:""}
        />
    </div>
  `,e.insertAdjacentHTML("beforeend",n),e);return a.append(t),a.append(i),a.append(n),a})());return n.append(a),t.append(i),n.append(t),n},Tt=t=>{var{start:e,stop:n,breaks:a,keyDay:i}=t,e=Boolean(e&&n&&a),n=document.createElement("div"),a=(n.classList="workday__item item-workday",n.dataset.spollers="",(()=>{var t,e=document.createElement("div");e.classList="item-workday__spoller",e.dataset.spoller="",(t=document.createElement("button")).classList="item-workday__button",t.dataset.spollerButton="",t.type="button",t.insertAdjacentHTML("beforeend",'\n  <svg viewBox="0 0 18 18">\n    <path\n      d="M9 0.25C9.41421 0.25 9.75 0.585786 9.75 1V8.25H17C17.4142 8.25 17.75 8.58579 17.75 9C17.75 9.41421 17.4142 9.75 17 9.75H9.75V17C9.75 17.4142 9.41421 17.75 9 17.75C8.58579 17.75 8.25 17.4142 8.25 17V9.75H1C0.585786 9.75 0.25 9.41421 0.25 9C0.25 8.58579 0.585786 8.25 1 8.25H8.25V1C8.25 0.585786 8.58579 0.25 9 0.25Z"\n    />\n  </svg>\n  ');return e.append(t),e})()),e=(a.dataset.workdayDayName=(()=>{let t="";switch(i){case"day_1":t="пн";break;case"day_2":t="вт";break;case"day_3":t="ср";break;case"day_4":t="чт";break;case"day_5":t="пт";break;case"day_6":t="сб";break;case"day_7":t="вс";break;default:t=""}return t})(),e&&a.classList.add("show"),Dt(t));return a.append(e),n.append(a),St(n),n},Mt=n=>{if(!n||!(()=>{if(!n)return!1;let t=!1;for(const e in n)if(e){t=!0;break}return t})())return null;var t=document.body.querySelector(".workday");if(!t)return null;var e,a,i,r,o=t.querySelector(".days-week"),s=((e=document.createElement("div")).classList="workday__days-week days-week",e.insertAdjacentHTML("beforeend",'\n    <span class="days-week__day" data-workday-day="пн">Пн</span>\n    <span class="days-week__day" data-workday-day="вт">Вт</span>\n    <span class="days-week__day" data-workday-day="ср">Ср</span>\n    <span class="days-week__day" data-workday-day="чт">Чт</span>\n    <span class="days-week__day" data-workday-day="пт">Пт</span>\n    <span class="days-week__day" data-workday-day="сб">Сб</span>\n    <span class="days-week__day" data-workday-day="вс">Вс</span>\n  '),e),l=(o.insertAdjacentElement("afterend",s),o.remove(),t&&(e=t.querySelectorAll(".item-workday"))&&e.length&&e.forEach(t=>t.remove()),[]);for([a,i]of Object.entries(n)){const n=Tt({...i,keyDay:a});l.unshift(n)}for(r of l)s.insertAdjacentElement("afterend",r);o=document.body.querySelectorAll(".workday");if(o.length){for(var[c,d]of Object.entries(vt)){for(var[u,h]of d)u.inputmask&&u.inputmask.remove(),u.removeEventListener(c,h);vt[c]=[]}o.forEach(e=>{var t=e.querySelectorAll(".item-workday__spoller"),n=e.querySelectorAll(".item-workday__spoller-body");t.length&&t.forEach(t=>yt(e,t)),n.length&&n.forEach(t=>{const n=t.querySelector(".item-workday__added-range");var e,a;e=(t=t).querySelector('[data-workday-input="min"]'),a=t.querySelectorAll('[data-workday-input="range"]'),t=t.querySelector('[data-workday-input="max"]'),e&&(new Inputmask({regex:"[0-2][0-9]:[0-5][0-9]"}).mask(e),e.addEventListener("input",ft),vt.input.push([e,ft])),a.length&&a.forEach(t=>{new Inputmask({regex:"[0-2][0-9]:[0-5][0-9] - [0-2][0-9]:[0-5][0-9]"}).mask(t),t.addEventListener("input",mt),vt.input.push([t,mt])}),t&&(new Inputmask({regex:"[0-2][0-9]:[0-5][0-9]"}).mask(t),t.addEventListener("input",gt),vt.input.push([t,gt])),n&&(n.onclick=()=>{var t,e;t=n,(e=document.createElement("input")).setAttribute("data-workday-input","range"),e.setAttribute("type","tel"),e.setAttribute("placeholder","**:** - **:**"),t.insertAdjacentElement("beforebegin",e),new Inputmask({regex:"[0-2][0-9]:[0-5][0-9] - [0-2][0-9]:[0-5][0-9]"}).mask(e),e.addEventListener("input",mt),vt.input.push([e,mt])})}),e.addEventListener("click",ut),vt.click.push([e,ut])})}t=document.body.querySelectorAll(".days-week");if(t.length){if(kt.length){for(var[p,m]of kt)p.removeEventListener("click",m);kt=[]}t.forEach(t=>{t=t.querySelectorAll(".days-week__day");t.length&&t.forEach(t=>{t.addEventListener("click",xt),kt.push([t,xt])})})}},It=t=>{t=t.target;t.closest(".menu-profile")&&!t.classList.contains("menu-profile")||document.body.querySelectorAll(".menu-profile").forEach(t=>t.classList.remove("show"))};function qt(){const i=document.querySelectorAll(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-select]");if(!i.length)return;i.forEach((t,e)=>{t.hasAttribute("style")||(t.style.zIndex=""+(i.length-e+999));const r=t.querySelector("[data-select-input]"),n=t.querySelectorAll("[data-select-option]"),a=t.querySelector("[data-option-current]");r&&n.length&&(a&&(r.value=(null==(e=a.textContent)?void 0:e.trim())||"",r.dataset.inputValue=a.dataset.selectOption||""),t.hasAttribute("data-select-hover")&&t.removeAttribute("data-select-hover"),t.addEventListener("click",t=>{var e,t=t["target"],n=t.closest("[data-select]"),t=t.closest("[data-select-option]"),a=t?t.textContent:null,t=t?t.dataset.selectOption:null,i=(a&&(r.value=a.trim(),r.dataset.inputValue=t,r.dispatchEvent(new CustomEvent("custom-select"))),o(n),n);for(e of document.body.querySelectorAll("[data-select]"))e.classList.contains("show")?e.classList.remove("show"):e===i&&e.classList.add("show")}))});const o=t=>{var e,n=t.querySelector("[data-select-option]");n&&(n=n.parentElement,e=document.documentElement.clientHeight-t.getBoundingClientRect().bottom,n.offsetHeight+20>=e?(r(),t.classList.add("reverse")):(a(),t.classList.remove("reverse")))},a=()=>{const n=document.body.querySelectorAll("[data-select]");n.forEach((t,e)=>{t.style.zIndex=""+(n.length-e+999)})},r=()=>{const n=document.body.querySelectorAll("[data-select]");n.forEach((t,e)=>{t.style.zIndex=""+(n.length+e+999)})};document.body.addEventListener("click",t=>{t=t.target;t.closest("[data-select]")||document.body.querySelectorAll("[data-select]").forEach(t=>t.classList.remove("show"))})}const Nt=[],Ot=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;t.length&&e.length&&(t.forEach(t=>{t.classList.remove("active")}),e.forEach(t=>{t.style.display="none"}))},Ht=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;const a=t.closest("[data-tab-button]").dataset.tabButton.toLowerCase();e.length&&n.length&&(e.forEach(t=>{var e=t.dataset.tabButton.toLowerCase();a===e?t.classList.add("active"):t.classList.remove("active")}),n.forEach(t=>{t.dataset.tabItem.toLowerCase()!==a?t.style.display="none":(t.style.removeProperty("display"),U())}))};var Pt=function(){let r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];var t=document.querySelectorAll("[data-tab]");t.length&&t.forEach(t=>{const a=t.querySelectorAll("[data-tab-button]"),i=t.querySelectorAll("[data-tab-item]");a.length&&(a.forEach((e,t)=>{var n=e.hasAttribute("data-tab-active");0===t&&Ht(e,a,i),n&&Ht(e,a,i),e.addEventListener("click",t=>{t=t.target;r&&e.hasAttribute("data-tab-toggle")&&e.classList.contains("active")?Ot(a,i):Ht(t,a,i)})}),r)&&Ot(a,i)})};const Rt=r=>{let o="";var t,e;return Array.isArray(r)&&r.length?((t=document.createElement("div")).classList.add("dates-exam__days"),(e=document.createElement("div")).classList.add("days-week"),["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].forEach((t,e)=>{let n=!1;for(const o of r)if(o==e+1){n=!0;break}var a,i;o+=(a=n,t=t,i="",i+=a?`
    <label class="days-week__label">
      <input type="checkbox" checked/>
      <span class="days-week__day" data-workday-day="${t.toLowerCase()}">${t}</span>
    </label>
    `:`
    <label class="days-week__label">
      <input type="checkbox" />
      <span class="days-week__day" data-workday-day="${t.toLowerCase()}">${t}</span>
    </label>
    `)}),e.insertAdjacentHTML("afterbegin",o),t.insertAdjacentElement("afterbegin",e),t):o},Vt=t=>{t&&(t.classList.add("close"),t.addEventListener("transitionend",()=>{t.remove()}))};function Bt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(t){const n=document.body,a=document.createElement("div");a.classList.add("notification-user"),e&&a.classList.add("error"),setTimeout(()=>{a.classList.add("show")},0);a.insertAdjacentHTML("afterbegin",`
    <div class="notification-user__close">
      <svg id="cross" viewBox="0 0 18 18">
      <path
        d="M9 0.25C9.41421 0.25 9.75 0.585786 9.75 1V8.25H17C17.4142 8.25 17.75 8.58579 17.75 9C17.75 9.41421 17.4142 9.75 17 9.75H9.75V17C9.75 17.4142 9.41421 17.75 9 17.75C8.58579 17.75 8.25 17.4142 8.25 17V9.75H1C0.585786 9.75 0.25 9.41421 0.25 9C0.25 8.58579 0.585786 8.25 1 8.25H8.25V1C8.25 0.585786 8.58579 0.25 9 0.25Z"
      />
      </svg>
    </div>

    <div class="notification-user__wrapper">
      <p class="notification-user__text">${t}</p>
    </div>
  `),n.insertAdjacentElement("afterbegin",a);e=a;if(e){const i=e.offsetHeight;document.body.querySelectorAll(".notification-user.show").forEach(t=>{var e=+window.getComputedStyle(t).top.match(/^\d+/)[0];t.style.top=i+e+20+"px"})}a.addEventListener("click",t=>{t=t.target;Vt(t.closest(".notification-user"))}),setTimeout(()=>{Vt(a)},5e3)}}function $t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const{tab_id:e,minutes:n,seconds:a,start:i,start_ts:r,stop:o,stop_ts:s,type:l,full_name:c,phone:d,message:u}=t,{currentDate:h,day_id:p,rec_id:m,arr_id:v}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=String(Math.floor(1e6*Math.random())),g=document.createElement("div"),y=(t=>{var{type:t,message:e}=t;return e&&"free"===t&&e.toLowerCase().includes("записан")?"recorded":t})({type:l,message:u}),_=(g.classList.add("slider-timetable__item",y),Wt)["ITEMS"];function b(t){var{type:t,message:e}=0<arguments.length&&void 0!==t?t:{};let n=e||Xt[t]||"";return n="driving"!==t&&"exam"!==t?n:c}return _[f]={tab_id:e,day:h,start:i,stop:o,type:l,day_id:p,rec_id:m,arr_id:v,full_name:c,phone:d,minutes:n,seconds:a,start_ts:r,stop_ts:s},t=`
    <span span class="slider-timetable__time">${i} - ${o}</span>
    <span class="slider-timetable__type">${b(t)}</span>
  `,g.insertAdjacentHTML("afterbegin",t),g.onclick=function(){week.time_action(_[f],function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type;this.classList="slider-timetable__item "+(e||""),this.querySelector(".slider-timetable__type").textContent=b(t),_[f].type=e}.bind(this))},g}const Ft=t=>{t.classList.remove("show"),document.body.classList.remove("no-scroll")},jt={day_1:"Понедельник",day_2:"Вторник",day_3:"Среда",day_4:"Четверг",day_5:"Пятница",day_6:"Суббота",day_7:"Воскресенье"},Yt={day_1:"пн",day_2:"вт",day_3:"ср",day_4:"чт",day_5:"пт",day_6:"сб",day_7:"вс"},Xt={driving:"Вождение",repair:"Ремонт",busy:"Занято",exam:"Экзамен Вн.","police-exam":"Экзамен ГИБДД",exit:"Выходной",free:"Свободно"},Wt={ITEMS:{},nameDaysWeek:jt,miniNameDaysWeek:Yt,typeMessage:Xt,swiper:null},zt=new Intl.NumberFormat("ru",{style:"unit",unit:"week",unitDisplay:"long"}),Ut=(t,a)=>{a.length&&(t=t.querySelectorAll("[data-workday-day]")).length&&t.forEach(e=>{const n=e.dataset.workdayDay.toLowerCase();e.classList.remove("active"),a.forEach(t=>{t=t.dataset.timetableDay.toLowerCase();n===t&&e.classList.add("active")})})},Zt=t=>{const o=document.body.querySelector(".timetable");if(o&&t){const s=o.querySelector(".timetable__dates"),l=o.querySelector(".timetable__week"),e=new Swiper(t,{slidesPerView:1,spaceBetween:20,grabCursor:!0,autoHeight:!0,navigation:{nextEl:".timetable__button-slider-next",prevEl:".timetable__button-slider-prev"},on:{init:function(){const e=(e=>{let n=0;for(let t=0;t<e.length;t++)if(e[t].hasAttribute("data-timtable-init-current-slide")){n=t;break}return n})(this.slides),t=this.slides[e],n=t.querySelectorAll("[data-timetable-day]");if(s){const e=t.dataset.timetableDates;s.textContent=e||s.textContent}if(l){{var a=e;var i=this.slides;let t=-a;for(var r of i)if(0===t)r.dataset.timetableWeek="Текущая неделя",t=1;else{const i=0<t?"+"+zt.format(t++):zt.format(t++);r.dataset.timetableWeek=i}}const o=t.dataset.timetableWeek;l.textContent=o||l.textContent}Ut(o,n),this.slideTo(e,0),0===e&&week.time_prev(),e===this.slides.length-1&&week.time_next()}}});return e.on("slideChange",t=>{var e=t.slides[t.activeIndex],t=e.querySelectorAll("[data-timetable-day]");if(s){const t=e.dataset.timetableDates;s.textContent=t||s.textContent}if(l){const t=e.dataset.timetableWeek;l.textContent=t||l.textContent}Ut(o,t)}),e.on("reachBeginning",()=>{week.time_prev()}),e.on("reachEnd",()=>{week.time_next()}),Wt.swiper=e}},Gt=Intl.DateTimeFormat("ru",{day:"numeric",month:"long"}),Kt=(t,e)=>{var[e,n,a]=e.split("."),i=+t[t.length-1]-1,r=jt[t]||"",t=Yt[t]||"";let o=new Date(a,n-1,e);return`
  <span class="slider-timetable__day-name" data-timetable-day="${t}">
    ${r} - <span>${o=isNaN(o)?"":(o.setDate(o.getDate()+i),Gt.format(o))}</span>
  </span>
  `},Jt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement("div");a.classList.add("slider-timetable__items");for(let t=0;t<e.length;t++){var i=e[t],i=$t(i,{rec_id:t,...n});a.insertAdjacentElement("beforeend",i)}return a},Qt=(t,e)=>{let n=+e[e.length-1]-1;var[e,t,a]=t.split("."),a=new Date(a,t-1,e);return isNaN(n)&&(n=0),a.setDate(a.getDate()+n),new Intl.DateTimeFormat("ru").format(a)},f={ACCOUNT_TYPE:"manager",CURRENT_YEAR:null,CURRENT_MONTH:null,CURRENT_DAY:null,TYPES:{driving:"вождение",free:"свободно",training:"тренажер",theory:"Экз.теория",practice:"Экз.практика",simulator:"симулятор","free-record":"свободно"},DEFINITION:[],HAS_STATIC_DEFINITION:!1},te=t=>{var e,n;isNaN(t)||f.HAS_STATIC_DEFINITION||(t=(e=f.DEFINITION)[t],(n=document.body.querySelector(".footer-calendar"))&&(e.forEach(t=>{t&&t.remove()}),t)&&n.append(t))},ee=t=>{var e=document.body.querySelector(".slider-calendar");if(e&&t){const h=e.querySelector(".slider-calendar__month"),n=new Swiper(t,{slidesPerView:1,spaceBetween:10,grabCursor:!0,autoHeight:!0,navigation:{nextEl:".slider-calendar__slide-next",prevEl:".slider-calendar__slide-prev"},on:{init:function(){var n=(e=>{let n=null;for(let t=0;t<e.length;t++)if(e[t].hasAttribute("data-calendar-slide-current")){n=t;break}return n=n||0})(this.slides);h&&(a=this.slides[n].dataset.monthName,h.textContent=a||h.textContent),this.slideTo(n,0);{var a=this.slides[n];const d=a.dataset.monthName;let t=null,e=null;const u=a.querySelectorAll(".slider-calendar__day-number");if(u&&u.length&&d){var{currentDayNumber:i,currentMonthNumber:r,currentYear:o}={currentDayNumber:(r=new Date).getDate(),currentMonthNumber:r.getMonth(),currentYear:r.getFullYear()},[s,l]=d.split(" ");if(t=(()=>{let t=0;if(s&&"string"==typeof s)switch(s.toLowerCase()){case"январь":t=0;break;case"февраль":t=1;break;case"март":t=2;break;case"апрель":t=3;break;case"май":t=4;break;case"июнь":t=5;break;case"июль":t=6;break;case"август":t=7;break;case"сентябрь":t=8;break;case"октябрь":t=9;break;case"ноябрь":t=10;break;case"декабрь":t=11}return t})(),e=l,t!=r||e!=o){const d=a.querySelector("[data-tab-button]");void(d&&(d.dataset.tabActive=""))}else{var c=[...u];for(let n=0;n<c.length;n++){const d=c[n],t=d.classList.contains("prev"),e=d.classList.contains("next"),u=d.hasAttribute("data-tab-button");if(!t&&!e&&u&&d.textContent>=i){d.dataset.tabActive="";break}}}}}2<this.slides.length&&(0===n&&month.time_prev(),n===this.slides.length-1)&&month.time_next(),te(n),Pt()}}});n.on("slideChange",function(t){h&&(t=t.slides[t.activeIndex].dataset.monthName,h.textContent=t||h.textContent),te(this.realIndex)}),n.on("reachBeginning",()=>{month.time_prev()}),n.on("reachEnd",()=>{month.time_next()})}},ne=Intl.DateTimeFormat("ru",{day:"numeric",month:"long",year:"numeric"}),ae=t=>{var{day:t,month:e,year:n}=t;return!t||isNaN(t)||!e||isNaN(e)||!n||isNaN(n)?"":(n=ne.format(new Date(n,e-1,t))).slice(0,n.length-3)},ie=Intl.NumberFormat("ru",{style:"unit",unit:"hour",unitDisplay:"long"}),re=Intl.NumberFormat("ru",{style:"unit",unit:"minute",unitDisplay:"long"});function oe(t){if(!t||isNaN(t))return"";let e="";var n=Math.trunc(t/60),t=t%60,a=ie.format(n),i=re.format(t);return e=0==t?a:n?a+" "+i:i}const se=t=>"driving"===t||"training"===t||"simulator"===t?"Отменить занятие":"theory"===t||"practice"===t?"Отменить экзамен":"Отменить",le=(t,e)=>{let n;switch(f.ACCOUNT_TYPE){case"webinar_cancel":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{tab_id:t,start:n,title:l,link:c,duration:d,type:u,hide_btn:h}=e,p=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR}),m=oe(d),v=c&&20<c.length?c.slice(0,20)+"…":c;a=u;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${p}</span></p>
      <p class="promtp-calendar__text">
        <span>Тема: </span>${l}
      </p>
      <p class="promtp-calendar__text"><span>Начало вебинара: </span>${n}</p>
      <p class="promtp-calendar__text">
        <span>Длительность: </span>${m}
      </p>
      <p class="promtp-calendar__text">
        <span>Ссылка: </span><a href="${c}" target="_blank">${v}</a>
      </p>
    </div>
    `),s=document.createElement("button");s.classList="prompt-calendar__cancel button button_primary "+u,s.type="button",s.textContent="Отменить вебинар",s.onclick=()=>{month.time_action(t)},r.insertAdjacentHTML("beforeend",o),h||r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e);break;case"webinar_open":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{start:t,title:n,link:l,duration:c,type:d,hide_btn:u}=e,h=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR}),p=oe(c),m=l&&20<l.length?l.slice(0,20)+"…":l;a=d;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${h}</span></p>
      <p class="promtp-calendar__text">
        <span>Тема: </span>${n}
      </p>
      <p class="promtp-calendar__text"><span>Начало вебинара: </span>${t}</p>
      <p class="promtp-calendar__text">
        <span>Длительность: </span>${p}
      </p>
      <p class="promtp-calendar__text">
        <span>Ссылка: </span><a href="${l}" target="_blank">${m}</a>
      </p>
    </div>
    `),s=document.createElement("a");s.classList="prompt-calendar__cancel button button_primary "+d,s.target="_blank",s.href=l,s.textContent="Открыть вебинар",r.insertAdjacentHTML("beforeend",o),u||r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e);break;case"lesson_add":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{start:t,stop:n,type:l,hide_btn:c}=e,d=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR});a=l;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${d}</span></p>
      <p class="promtp-calendar__text"><span>Время: </span>${t} - ${n}</p>
      <p class="promtp-calendar__text">
        <span>Статус: </span>свободно
      </p>
    </div>
    `),s=document.createElement("button");s.classList="prompt-calendar__cancel button button_primary "+l,s.type="button",s.textContent="Записаться",s.onclick=()=>{month.time_action(e)},r.insertAdjacentHTML("beforeend",o),c||r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e);break;case"lesson_cancel":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{start:t,stop:n,type:l,status:c,full_name:d,hide_btn:u}=e,h=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR});a=l;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${h}</span></p>
      <p class="promtp-calendar__text"><span>Время: </span>${t} - ${n}</p>
      ${d?`<p class="promtp-calendar__text"><span>Ф.И.О. : </span>${d}</p>`:""}
      <p class="promtp-calendar__text">
        <span>Тип: </span>${f.TYPES[l]||" "}
      </p>
      ${c?`<p class="promtp-calendar__text"><span>Статус: </span>${c}</p>`:""}
    </div>
    `),s=document.createElement("button");s.classList="prompt-calendar__cancel button button_primary "+l,s.type="button",s.textContent=se(l),s.onclick=()=>{month.time_action(e)},r.insertAdjacentHTML("beforeend",o),u||r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e);break;case"exam_add":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{start:t,stop:n,type:l}=e,c=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR});a=l;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${c}</span></p>
      <p class="promtp-calendar__text"><span>Время: </span>${t} - ${n}</p>
      <p class="promtp-calendar__text">
        <span>Статус: </span>свободно
      </p>
    </div>
    `),s=document.createElement("button");s.classList="prompt-calendar__cancel button button_primary "+l,s.type="button",s.textContent="Записаться",s.onclick=()=>{month.time_action(e)},r.insertAdjacentHTML("beforeend",o),r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e);break;case"exam_cancel":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{start:t,stop:n,type:l,full_name:c,status:d,hide_btn:u}=e,h=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR});a=l;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${h}</span></p>
      <p class="promtp-calendar__text"><span>Время: </span>${t} - ${n}</p>
      ${c?`<p class="promtp-calendar__text"><span>Ф.И.О. : </span>${c}</p>`:""}
      <p class="promtp-calendar__text">
        <span>Тип: </span>${f.TYPES[l]||" "}
      </p>
      ${d?`<p class="promtp-calendar__text"><span>Статус: </span>${d}</p>`:""}
    </div>
    `),s=document.createElement("button");s.classList="prompt-calendar__cancel button button_primary "+l,s.type="button",s.textContent=se(l),s.onclick=()=>{month.time_action(e)},r.insertAdjacentHTML("beforeend",o),u||r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e);break;case"lessons_exams":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{tab_id:t,start:n,stop:s,type:l,full_name:c,status:d}=e,u=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR});a=l;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${u}</span></p>
      <p class="promtp-calendar__text"><span>Время: </span>${n} - ${s}</p>
      ${c?`<p class="promtp-calendar__text"><span>Ф.И.О. : </span>${c}</p>`:""}
      <p class="promtp-calendar__text">
        <span>Тип: </span>${f.TYPES[l]||" "}
      </p>
      ${d?`<p class="promtp-calendar__text"><span>Статус: </span>${d}</p>`:""}
    </div>
    `);r.insertAdjacentHTML("beforeend",o),i.insertAdjacentElement("beforeend",r),r.onclick=()=>{month.time_action(t)}}return n.append(i),a})(t,e);break;case"add_record":n=((t,e)=>{const n=document.body.querySelector(".calendar");let a=null;var i=document.createElement("div");i.classList="prompt-calendar",i.dataset.tabItem=e;for(const e of t){const{tab_id:t,start:n,stop:l,full_name:c,type:d,status:u}=e,h=ae({day:f.CURRENT_DAY,month:f.CURRENT_MONTH,year:f.CURRENT_YEAR});a=d;var r=document.createElement("div"),o=(r.classList="prompt-calendar__prompt",`
    <div class="prompt-calendar__data">
      <p class="promtp-calendar__text"><span>${h}</span></p>
      <p class="promtp-calendar__text"><span>Время: </span>${n} - ${l}</p>
      ${c?`<p class="promtp-calendar__text"><span>Инструктор: </span>${c}</p>`:""}
      <p class="promtp-calendar__text">
        <span>Статус: </span>${u||"свободно"}
      </p>
    </div>
    `),s=document.createElement("button");s.classList="prompt-calendar__cancel button button_primary free-record",s.type="button",s.textContent="Записать",s.onclick=()=>{month.time_action(t)},r.insertAdjacentHTML("beforeend",o),r.append(s),i.insertAdjacentElement("beforeend",r)}return n.append(i),a})(t,e)}return n},ce=Intl.DateTimeFormat("ru",{month:"long",year:"numeric"}),de=Intl.DateTimeFormat("ru",{weekday:"long"}),ue={"понедельник":1,"вторник":2,"среда":3,"четверг":4,"пятница":5,"суббота":6,"воскресенье":7},he=t=>33-new Date(t.getFullYear(),t.getMonth(),33).getDate(),pe=t=>{if(!f.HAS_STATIC_DEFINITION){if(!t||!Array.isArray(t)||!t.length)return f.DEFINITION.push(null),null;var e,n=document.body.querySelector(".calendar__definition.definition-calendar"),a=(n&&n.remove(),document.createElement("div"));a.classList="calendar__definition definition-calendar";for(e of t){const t=`
    <div class="definition-calendar__item">
      <div class="definition-calendar__color ${e}"></div>
      <span class="difinition-calendar__description">- ${f.TYPES[e]}</span>
    </div> 
    `;a.insertAdjacentHTML("beforeend",t)}f.DEFINITION.push(a)}},me=t=>{var{month:h,year:p,current:t,days:e,definition:n}=t,a=(f.CURRENT_MONTH=h,f.CURRENT_YEAR=p,(()=>{var{month:t,year:e}={month:h,year:p};return isNaN(t)||isNaN(e)?"":(e=ce.format(new Date(e,t-1)))[0].toUpperCase()+e.slice(1,e.length-3)})()),i=(()=>{var{month:t,year:e}={month:h,year:p};if(!t||isNaN(+t)||!e||isNaN(+e))return[];--t;var n=new Date(e,t-1),e=new Date(e,t),a=ue[de.format(e)];let i=he(n)-a+1;var r=he(e),o=[];let s=1,l=1;for(let t=1;t<a+r;t++)t<a?o.push(++i):o.push(s++);if(35<o.length&&o.length<42)for(let t=o.length;t<42;t++)o.push(l++);if(28<o.length&&o.length<35)for(let t=o.length;t<35;t++)o.push(l++);{var c=o;if(!c||!Array.isArray(c))return[];var d=[];let e=[],n=1;for(let t=0;t<c.length;t++){var u=c[t];e.push(u),7<(n+=1)&&(d.push(e),e=[],n=1)}return d}})(),r=document.createElement("div"),a=(r.classList="slider-calendar__slide swiper-slide",r.dataset.monthName=a,t&&(r.dataset.calendarSlideCurrent=""),function(t,e){let n=0<arguments.length&&void 0!==t?t:[],a=1<arguments.length&&void 0!==e?e:{};const i=new DocumentFragment;let r=!1,o=!1;for(const l of n){const n=document.createElement("div");n.classList="slider-calendar__days-numbers";for(const i of l){var s=document.createElement("div");if(s.classList="slider-calendar__day-number prev",1==(s.textContent=i)||o){const n=a[i];if(s.classList="slider-calendar__day-number",o=i!=r,r=1,n){const a=Math.floor(1e6*Math.random()),r=(f.CURRENT_DAY=i,s.dataset.tabButton=a,le(n,a));r&&s.classList.add(r)}}1<=i&&i<20&&!o&&(s.classList="slider-calendar__day-number next"),n.append(s)}i.append(n)}return i}(i,e));return r.append(a),pe(n),r},ve=Intl.DateTimeFormat("ru",{day:"numeric",month:"long",year:"numeric"}),fe=Intl.DateTimeFormat("ru",{day:"numeric",month:"numeric",year:"numeric"}),ge=Intl.DateTimeFormat("ru",{day:"numeric",month:"long",year:"numeric"}),ye=Intl.DateTimeFormat("ru",{day:"numeric",month:"numeric",year:"numeric"}),_e=Intl.DateTimeFormat("ru",{day:"numeric",month:"long",year:"numeric"}),be=Intl.DateTimeFormat("ru",{day:"numeric",month:"numeric",year:"numeric"});function T(e,n){if(Ie(e))for(let t=0;t<e.length&&!1!==n(e[t],t,e);t++);else e&&T(Object.keys(e),t=>n(e[t],t,e));return e}function J(n,e){var a=Ae(e);if(Te(e)||a){let t=a?"":{};if(n){const i=window.getComputedStyle(n,null);t=a?Mn(n,i,e):e.reduce((t,e)=>(t[e]=Mn(n,i,e),t),t)}return t}n&&T(at(e),t=>In(n,t,e[t]))}const Q=(t,e)=>{const{o:n,u:a,_:i}=t;let r,o=n;const s=(t,e)=>{var n=o,e=e||(a?!a(n,t):n!==t);return(e||i)&&(o=t,r=n),[o,e,r]};return[e?t=>s(e(o,r),t):s,t=>[o,!!t,r]]},we=()=>"undefined"!=typeof window,Ee=we()&&Node.ELEMENT_NODE,{toString:Se,hasOwnProperty:Le}=Object.prototype,Ce=t=>void 0===t,ke=t=>null===t,xe=t=>"number"==typeof t,Ae=t=>"string"==typeof t,De=t=>"boolean"==typeof t,M=t=>"function"==typeof t,Te=t=>Array.isArray(t),Me=t=>"object"==typeof t&&!Te(t)&&!ke(t),Ie=t=>{var e=!!t&&t.length,n=xe(e)&&-1<e&&e%1==0;return!(!(Te(t)||!M(t)&&n)||0<e&&Me(t)&&!(e-1 in t))},qe=t=>{if(!t||!Me(t)||"object"!==(n=t,Ce(n)||ke(n)?""+n:Se.call(n).replace(/^\[object (.+)\]$/,"$1").toLowerCase()))return!1;let e;var n="constructor",a=t[n],i=a&&a.prototype,r=Le.call(t,n),i=i&&Le.call(i,"isPrototypeOf");if(a&&!r&&!i)return!1;for(e in t);return Ce(e)||Le.call(t,e)},Ne=t=>{var e=HTMLElement;return!!t&&(e?t instanceof e:t.nodeType===Ee)},Oe=t=>{var e=Element;return!!t&&(e?t instanceof e:t.nodeType===Ee)},He=(t,e,n)=>t.indexOf(e,n),nt=(t,e,n)=>(n||Ae(e)||!Ie(e)?t.push(e):Array.prototype.push.apply(t,e),t),Pe=t=>{const e=Array.from,n=[];return e&&t?e(t):(t instanceof Set?t.forEach(t=>{nt(n,t)}):T(t,t=>{nt(n,t)}),n)},Re=t=>!!t&&0===t.length,Ve=(t,e,n)=>{T(t,t=>t&&t.apply(void 0,e||[])),n||(t.length=0)},Be=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),at=t=>t?Object.keys(t):[],I=(r,t,e,n,a,i,o)=>{t=[t,e,n,a,i,o];return"object"==typeof r&&!ke(r)||M(r)||(r={}),T(t,i=>{T(at(i),e=>{var n=i[e];if(r===n)return!0;var a=Te(n);if(n&&(qe(n)||a)){const i=r[e];let t=i;a&&!Te(i)?t=[]:a||qe(i)||(t={}),r[e]=I(t,n)}else r[e]=n})}),r},$e=t=>{for(const e in t)return!1;return!0},Fe=(t,e,n,a)=>{if(Ce(a))return n?n[t]:e;n&&(Ae(a)||xe(a))&&(n[t]=a)},it=(t,e,n)=>{if(Ce(n))return t?t.getAttribute(e):null;t&&t.setAttribute(e,n)},je=(t,e,n,a)=>{var i;n&&(i=it(t,e)||"",(i=new Set(i.split(" ")))[a?"add":"delete"](n),it(t,e,Pe(i).join(" ").trim()))},Ye=(t,e)=>{t&&t.removeAttribute(e)},Xe=(t,e)=>Fe("scrollLeft",0,t,e),We=(t,e)=>Fe("scrollTop",0,t,e),ze=we()&&Element.prototype,Ue=(t,e)=>{var n=[],e=e?Oe(e)?e:null:document;return e?nt(n,e.querySelectorAll(t)):n},Ze=(t,e)=>!!Oe(t)&&(ze.matches||ze.msMatchesSelector).call(t,e),Ge=t=>t?Pe(t.childNodes):[],Ke=t=>t?t.parentElement:null,Je=(t,e)=>{if(Oe(t)){var n=ze.closest;if(n)return n.call(t,e);do{if(Ze(t,e))return t}while(t=Ke(t))}return null},Qe=(t,a,i)=>{if(i&&t){let e,n=a;Ie(i)?(e=document.createDocumentFragment(),T(i,t=>{t===n&&(n=t.previousSibling),e.appendChild(t)})):e=i,a&&(n?n!==a&&(n=n.nextSibling):n=t.firstChild),t.insertBefore(e,n||null)}},rt=(t,e)=>{Qe(t,null,e)},tn=(t,e)=>{Qe(Ke(t),t&&t.nextSibling,e)},en=t=>{var e;Ie(t)?T(Pe(t),t=>en(t)):t&&(e=Ke(t))&&e.removeChild(t)},nn=t=>{var e=document.createElement("div");return t&&it(e,"class",t),e},an=t=>{var e=nn();return e.innerHTML=t.trim(),T(Ge(e),t=>en(t))},rn=t=>t.charAt(0).toUpperCase()+t.slice(1),on=["-webkit-","-moz-","-o-","-ms-"],sn=["WebKit","Moz","O","MS","webkit","moz","o","ms"],ln={},cn={},dn=n=>{let a=cn[n];if(Be(cn,n))return a;const i=rn(n),r=nn().style;return T(on,t=>{var e=t.replace(/-/g,""),t=[n,t+n,e+i,rn(e)+i];return!(a=t.find(t=>void 0!==r[t]))}),cn[n]=a||""},un=n=>{if(we()){let e=ln[n]||window[n];return Be(ln,n)||(T(sn,t=>!(e=e||window[t+rn(n)])),ln[n]=e),e}},hn=un("MutationObserver"),pn=un("IntersectionObserver"),mn=un("ResizeObserver"),vn=un("cancelAnimationFrame"),fn=un("requestAnimationFrame"),gn=we()&&window.setTimeout,yn=we()&&window.clearTimeout,_n=(n,a,t,i)=>{if(n&&a){let e=!0;return T(t,t=>{(i?i(n[t]):n[t])!==(i?i(a[t]):a[t])&&(e=!1)}),e}return!1},bn=(t,e)=>_n(t,e,["w","h"]),wn=(t,e)=>_n(t,e,["x","y"]),En=(t,e)=>_n(t,e,["t","r","b","l"]),Sn=(t,e,n)=>_n(t,e,["width","height"],n&&(t=>Math.round(t))),ot=()=>{},Ln=e=>{let n;const a=e?gn:fn,i=e?yn:vn;return[t=>{i(n),n=a(t,M(e)?e():e)},()=>i(n)]},Cn=(e,t)=>{let l,c,d,u=ot;function n(){const t=Pe(arguments),e=M(h)?h():h,n=xe(e)&&0<=e;if(n){const h=M(p)?p():p,n=xe(h)&&0<=h,a=0<e?gn:fn,i=0<e?yn:vn,r=v(t)||t,o=m.bind(0,r),s=(u(),a(o,e));u=()=>i(s),n&&!l&&(l=gn(f,h)),c=d=r}else m(t)}const{g:h,v:p,p:a}=t||{},m=function(t){u(),yn(l),l=c=void 0,u=ot,e.apply(this,t)},v=t=>a&&c?a(c,t):t,f=()=>{u!==ot&&m(v(d)||d)};return n.m=f,n},{}=Math,kn=/[^\x20\t\r\n\f]+/g,xn=(t,e,n)=>{var a=t&&t.classList;let i,r=0,o=!1;if(a&&e&&Ae(e)){const t=e.match(kn)||[];for(o=0<t.length;i=t[r++];)o=!!n(a,i)&&o}return o},An=(t,e)=>{xn(t,e,(t,e)=>t.remove(e))},st=(t,e)=>(xn(t,e,(t,e)=>t.add(e)),An.bind(0,t,e)),Dn={opacity:1,zindex:1},Tn=(t,e)=>{e=e?parseFloat(t):parseInt(t,10);return e==e?e:0},Mn=(t,e,n)=>null!=e?e[n]||e.getPropertyValue(n):t.style[n],In=(t,e,n)=>{try{var a=t["style"];Ce(a[e])?a.setProperty(e,n):a[e]=(i=e,r=n,!Dn[i.toLowerCase()]&&xe(r)?r+"px":r)}catch(t){}var i,r},qn=t=>"rtl"===J(t,"direction"),Nn=(t,e,n)=>{var e=e?e+"-":"",n=n?"-"+n:"",a=e+"top"+n,i=e+"right"+n,r=e+"bottom"+n,e=e+"left"+n,n=J(t,[a,i,r,e]);return{t:Tn(n[a],!0),r:Tn(n[i],!0),b:Tn(n[r],!0),l:Tn(n[e],!0)}},On=Math["round"],Hn={w:0,h:0},Pn=t=>t?{w:t.offsetWidth,h:t.offsetHeight}:Hn,Rn=t=>t?{w:t.clientWidth,h:t.clientHeight}:Hn,Vn=t=>t?{w:t.scrollWidth,h:t.scrollHeight}:Hn,Bn=t=>{var e=parseFloat(J(t,"height"))||0,t=parseFloat(J(t,"width"))||0;return{w:t-On(t),h:e-On(e)}},$n=t=>t.getBoundingClientRect();let Fn;const jn=t=>t.split(" "),Yn=(e,t,n,a)=>{T(jn(t),t=>{e.removeEventListener(t,n,a)})},lt=(a,t,i,e)=>{var n;const r=(()=>{if(Ce(Fn)){Fn=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){Fn=!0}}))}catch(t){}}return Fn})(),o=null!=(n=r&&e&&e.S)?n:r,s=e&&e.$||!1,l=e&&e.C||!1,c=[],d=r?{passive:o,capture:s}:s;return T(jn(t),e=>{const n=l?t=>{a.removeEventListener(e,n,s),i&&i(t)}:i;nt(c,Yn.bind(null,a,e,n,s)),a.addEventListener(e,n,d)}),Ve.bind(0,c)},Xn=t=>t.stopPropagation(),Wn=t=>t.preventDefault(),zn={x:0,y:0},Un=t=>{t=t?$n(t):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:zn},Zn=(t,e)=>{T(Te(e)?e:[e],t)},Gn=t=>{const i=new Map,r=(t,e)=>{if(t){const n=i.get(t);Zn(t=>{n&&n[t?"delete":"clear"](t)},e)}else i.forEach(t=>{t.clear()}),i.clear()},o=(n,t)=>{if(Ae(n)){const o=i.get(n)||new Set;return i.set(n,o),Zn(t=>{M(t)&&o.add(t)},t),r.bind(0,n,t)}De(t)&&t&&r();const e=at(n),a=[];return T(e,t=>{var e=n[t];e&&nt(a,o(t,e))}),Ve.bind(0,a)};return o(t||{}),[o,r,(t,e)=>{t=i.get(t);T(Pe(t),t=>{e&&!Re(e)?t.apply(0,e):t()})}]},Kn=t=>JSON.stringify(t,(t,e)=>{if(M(e))throw new Error;return e}),Jn={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Qn=(t,i)=>{const r={};return T(at(i).concat(at(t)),e=>{var n=t[e],a=i[e];if(Me(n)&&Me(a))I(r[e]={},Qn(n,a)),$e(r[e])&&delete r[e];else if(Be(i,e)&&a!==n){let t=!0;if(Te(n)||Te(a))try{Kn(n)===Kn(a)&&(t=!1)}catch(t){}t&&(r[e]=a)}}),r},ta="os-environment",ea=ta+"-flexbox-glue",na=ea+"-max",aa="data-overlayscrollbars",ia="data-overlayscrollbars-initialize",ra=aa+"-overflow-x",oa=aa+"-overflow-y",sa="overflowVisible",la="updating",ca="os-viewport",da=ca+"-arrange",ua=ca+"-scrollbar-hidden",ha="os-overflow-visible",pa="os-size-observer",q=(pa,pa,"os-scrollbar"),ma=q+"-rtl",va=q+"-horizontal",fa=q+"-vertical",ga=q+"-track",ya=q+"-handle",_a=q+"-visible",ba=q+"-cornerless",wa=q+"-transitionless",Ea=q+"-interaction",Sa=q+"-unusable",La=q+"-auto-hidden",Ca=q+"-wheel",ka=ga+"-interactive",xa=ya+"-interactive",Aa={},Da=()=>Aa,{}=Math,Ta="__osScrollbarsHidingPlugin";let Ma;const Ia=(t,e,n,a)=>{rt(t,e);var t=Rn(e),i=Pn(e),n=Bn(n);return a&&en(e),{x:i.h-t.h+n.h,y:i.w-t.w+n.w}},qa=(t,e)=>{J(t,{overflowX:"hidden",overflowY:"hidden",direction:"rtl"}),Xe(t,0);var n=Un(t),a=Un(e),t=(Xe(t,-999),Un(e));return{i:n.x===a.x,n:a.x!==t.x}},Na=(t,e)=>{var n=st(t,ea),a=$n(t),i=$n(e),i=Sn(i,a,!0),a=st(t,na),t=$n(t),e=$n(e),e=Sn(e,t,!0);return n(),a(),i&&e},ct=()=>Ma=Ma||(()=>{const t=document["body"],e=an(`<div class="${ta}"><div></div></div>`)[0],n=e.firstChild,[a,,i]=Gn(),[r,o]=Q({o:Ia(t,e,n),u:wn},Ia.bind(0,t,e,n,!0)),[s]=o(),l=(t=>{let e=!1;var n=st(t,ua);try{e="none"===J(t,dn("scrollbar-width"))||"none"===window.getComputedStyle(t,"::-webkit-scrollbar").getPropertyValue("display")}catch(t){}return n(),e})(e),c={x:0===s.x,y:0===s.y},d={elements:{host:null,padding:!l,viewport:t=>l&&t===t.ownerDocument.body&&t,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},u=I({},Jn),h=I.bind(0,{},u),p=I.bind(0,{},d),m={k:s,A:c,I:l,L:"-1"===J(e,"zIndex"),B:qa(e,n),V:Na(e,n),Y:a.bind(0,"z"),j:a.bind(0,"r"),N:p,q:t=>I(d,t)&&p(),F:h,G:t=>I(u,t)&&h(),X:I({},d),U:I({},u)},v=window.addEventListener,f=Cn(t=>i(t?"z":"r"),{g:33,v:99});if(Ye(e,"style"),en(e),v("resize",f.bind(0,!1)),!(l||c.x&&c.y)){let e;v("resize",()=>{var t=Da()[Ta];(e=e||t&&t.R())&&e(m,r,f.bind(0,!0))})}return m})(),Oa=(t,e)=>M(e)?e.apply(0,t):e,Ha=(t,e,n,a)=>{n=Ce(a)?n:a;return Oa(t,n)||e.apply(0,t)},Pa=(t,e,n,a)=>{n=Ce(a)?n:a,a=Oa(t,n);return!!a&&(Ne(a)?a:e.apply(0,t))},Ra=new WeakMap,Va=t=>Ra.get(t),Ba=(t,e)=>t?e.split(".").reduce((t,e)=>t&&Be(t,e)?t[e]:void 0,t):void 0,$a=(e,n,a)=>t=>[Ba(e,t),a||void 0!==Ba(n,t)],Fa=t=>{let e=t;return[()=>e,t=>{e=I({},e,t)}]},ja="tabindex",Ya=nn.bind(0,""),Xa=t=>{rt(Ke(t),Ge(t)),en(t)},Wa=t=>{const e=ct(),{N:H,I:o}=e,n=Da()[Ta],a=n&&n.T,P=H()["elements"],{host:R,padding:V,viewport:B,content:i}=P,r=Ne(t),s=r?{}:t,$=s["elements"],{host:F,padding:j,viewport:Y,content:X}=$||{},l=r?t:s.target,c=Ze(l,"textarea"),d=l.ownerDocument,u=d.documentElement,h=l===d.body,p=d.defaultView,m=Ha.bind(0,[l]),v=Pa.bind(0,[l]),W=Oa.bind(0,[l]),f=m.bind(0,Ya,B),g=v.bind(0,Ya,i),y=f(Y),_=y===l,b=_&&h,w=!_&&g(X),E=!_&&Ne(y)&&y===w,S=E&&!!W(i),z=S?f():y,U=S?w:g(),L=b?u:E?z:y,Z=c?m(Ya,R,F):l,G=b?L:Z,K=E?U:w,C=d.activeElement,J=!_&&p.top===p&&C===l,k={W:l,Z:G,J:L,K:!_&&v(Ya,V,j),tt:K,nt:!_&&!o&&a&&a(e),ot:b?u:L,st:b?d:L,et:p,ct:d,rt:c,it:h,lt:r,ut:_,dt:E,ft:(t,e)=>{var n;return _?(n=L,e=e,n=it(n,"data-overlayscrollbars")||"",new Set(n.split(" ")).has(e)):(n=L,e=t,xn(n,e,(t,e)=>t.contains(e)))},_t:(t,e,n)=>_?je(L,aa,e,n):(n?st:An)(L,t)},Q=at(k).reduce((t,e)=>{e=k[e];return nt(t,!(!e||Ke(e))&&e)},[]),x=t=>t?-1<He(Q,t):null,{W:A,Z:D,K:T,J:M,tt:I,nt:q}=k,N=[()=>{Ye(D,aa),Ye(D,ia),Ye(A,ia),h&&(Ye(u,aa),Ye(u,ia))}],tt=c&&x(D);let O=c?A:Ge([I,M,T,D,A].find(t=>!1===x(t)));const et=b?A:I||M;return[k,()=>{it(D,aa,_?"viewport":"host");const t=st(T,"os-padding"),e=st(M,!_&&ca),n=st(I,"os-content"),a=h&&!_?st(Ke(l),ua):ot;if(tt&&(tn(A,D),nt(N,()=>{tn(D,A),en(D)})),rt(et,O),rt(D,T),rt(T||D,!_&&M),rt(M,I),nt(N,()=>{a(),Ye(M,ra),Ye(M,oa),x(I)&&Xa(I),x(M)&&Xa(M),x(T)&&Xa(T),t(),e(),n()}),o&&!_&&nt(N,An.bind(0,M,ua)),q&&(i=M,r=q,Qe(Ke(i),i,r),nt(N,en.bind(0,q))),J){const t=it(M,ja),e=(it(M,ja,"-1"),M.focus(),()=>t?it(M,ja,t):Ye(M,ja)),n=lt(d,"pointerdown keydown",()=>{e(),n()});nt(N,[e,n])}else C&&C.focus&&C.focus();var i,r;O=0},Ve.bind(0,N)]},za=Math["max"],Ua=za.bind(0,0),Za="visible",Ga={u:bn,o:{w:0,h:0}},Ka={u:wn,o:{x:"hidden",y:"hidden"}},Ja=(t,e,n)=>(n?st:An)(t,e),Qa=t=>0===t.indexOf(Za),ti=(a,t,i)=>{const r={},o=t||{};return T(at(a).concat(at(o)),t=>{var e=a[t],n=o[t];r[t]=!!(i||e||n)}),r},ei=(_,b,n,w)=>{let e=!1;const{Ht:t,Pt:a,Mt:i,Dt:E,Rt:r,kt:o}=w||{},s=Cn(()=>{e&&n(!0)},{g:33,v:99}),[l,c]=((i,r,t)=>{let o,s=!1;var e=a=>{t&&T(t.reduce((t,e)=>{var n;return e&&([e,n]=e,e=n&&e&&(a?a(e):Ue(e,i)))&&e.length&&n&&Ae(n)&&nt(t,[e,n.trim()],!0),t},[]),a=>T(a[0],e=>{var t=a[1],n=o.get(e)||[];if(i.contains(e)){const i=lt(e,t,t=>{s?(i(),o.delete(e)):r(t)});o.set(e,nt(n,i))}else Ve(n),o.delete(e)}))};return t&&(o=new WeakMap,e()),[()=>{s=!0},e]})(_,s,i),S=a||[],d=(t||[]).concat(S),u=(t,e)=>{const p=r||ot,m=o||ot,v=new Set,f=new Set;let g=!1,y=!1;if(T(t,t=>{const{attributeName:e,target:n,type:a,oldValue:i,addedNodes:r,removedNodes:o}=t,s="attributes"===a,l="childList"===a,c=_===n,d=s&&Ae(e)?it(n,e):0,u=0!==d&&i!==d,h=-1<He(S,e)&&u;if(b&&(l||!c)){const b=!s,a=s&&u,f=a&&E&&Ze(n,E),S=(f?!p(n,e,i,d):b||a)&&!m(t,!!f,_,w);T(r,t=>v.add(t)),T(o,t=>v.add(t)),y=y||S}!b&&c&&u&&!p(n,e,i,d)&&(f.add(e),g=g||h)}),0<v.size&&c(n=>Pe(v).reduce((t,e)=>(nt(t,Ue(n,e)),Ze(e,n)?nt(t,e):t),[])),b)return!e&&y&&n(!1),[!1];if(0<f.size||g){const _=[Pe(f),g];return e||n.apply(0,_),_}},h=new hn(t=>u(t));return h.observe(_,{attributes:!0,attributeOldValue:!0,attributeFilter:d,subtree:b,childList:b,characterData:b}),e=!0,[()=>{e&&(l(),h.disconnect(),e=!1)},()=>{var t;if(e)return s.m(),t=h.takeRecords(),!Re(t)&&u(t,!0)}]},ni=3333333,ai=t=>t&&(t.height||t.width),ii=(i,o,t)=>{const{Bt:s=!1,Vt:e=!1}=t||{},n=Da().__osSizeObserverPlugin,l=ct()["B"],c=an(`<div class="${pa}"><div class="os-size-observer-listener"></div></div>`)[0],r=c.firstChild,a=qn.bind(0,i),[d]=Q({o:void 0,_:!0,u:(t,e)=>!(!t||!ai(t)&&ai(e))}),u=t=>{const e=Te(t)&&0<t.length&&Me(t[0]),n=!e&&De(t[0]);let a=!1,i=!1,r=!0;if(e){const[o,,e]=d(t.pop().contentRect),s=ai(o),n=ai(e);a=!e||!s,i=!n&&s,r=!a}else n?[,r]=t:i=!0===t;if(s&&r){const o=n?t[0]:qn(c);Xe(c,o?l.n?-ni:l.i?0:ni:ni),We(c,ni)}a||o({vt:!n,Yt:n?t:void 0,Vt:!!i})},h=[];let p=!!e&&u;return[()=>{Ve(h),en(c)},()=>{if(mn){const i=new mn(u);i.observe(r),nt(h,()=>{i.disconnect()})}else if(n){const[i,t]=n.O(r,u,e);p=i,nt(h,t)}if(s){const[i]=Q({o:void 0},a);nt(h,lt(c,"scroll",t=>{var[e,n,a]=i();n&&(An(r,"ltr rtl"),st(r,e?"rtl":"ltr"),u([!!e,n,a])),Xn(t)}))}p&&(st(c,"os-size-observer-appear"),nt(h,lt(c,"animationstart",p,{C:!!mn}))),(mn||n)&&rt(i,c)}]},ri=(e,a)=>{let n;const i=nn("os-trinsic-observer"),r=[],[o]=Q({o:!1}),s=(t,e)=>{if(t){var t=o(0===t.h||t.isIntersecting||0<t.intersectionRatio),[,n]=t;if(n)return e||a(t),[t]}},l=(t,e)=>{if(t&&0<t.length)return s(t.pop(),e)};return[()=>{Ve(r),en(i)},()=>{if(pn)(n=new pn(t=>l(t),{root:e})).observe(i),nt(r,()=>{n.disconnect()});else{const e=()=>{var t=Pn(i);s(t)},[t,n]=ii(i,e);nt(r,t),n(),e()}rt(e,i)},()=>{if(n)return l(n.takeRecords(),!0)}]},oi=`[${aa}]`,si="."+ca,li=["tabindex"],ci=["wrap","cols","rows"],di=["id","class","style","open"],ui=(t,i,r)=>{let s,c,d;const{Z:n,J:u,tt:h,rt:e,ut:p,ft:l,_t:m}=t,a=ct()["V"],[o]=Q({u:bn,o:{w:0,h:0}},()=>{var t=l(ha,sa),e=l(da,""),n=e&&Xe(u),a=e&&We(u),i=(m(ha,sa),m(da,""),m("",la,!0),Vn(h)),r=Vn(u),o=Bn(u);return m(ha,sa,t),m(da,"",e),m("",la),Xe(u,n),We(u,a),{w:r.w+i.w+o.w,h:r.h+i.h+o.h}}),v=e?ci:di.concat(ci),f=Cn(r,{g:()=>s,v:()=>c,p(t,e){const[n]=t,[a]=e;return[at(n).concat(at(a)).reduce((t,e)=>(t[e]=n[e]||a[e],t),{})]}}),g=t=>{T(t||li,t=>{var e;-1<He(li,t)&&(e=it(n,t),Ae(e)?it(u,t,e):Ye(u,t))})},y=(t,e)=>{var[t,n]=t,n={gt:n};return i({ht:t}),e||r(n),n},_=({vt:t,Yt:e,Vt:n})=>{n=!t||n?r:f;let a=!1;if(e){const[t,r]=e;a=r,i({bt:t})}n({vt:t,yt:a})},b=(t,e)=>{var[,n]=o(),a={wt:n};return n&&!e&&(t?r:f)(a),a},w=(t,e,n)=>{var a={Ot:e};return e?n||f(a):p||g(t),a},[E,S,L]=h||!a?ri(n,y):[ot,ot,ot],[C,k]=p?[ot,ot]:ii(n,_,{Vt:!0,Bt:!0}),[x,A]=ei(n,!1,w,{Pt:di,Ht:di.concat(li)}),D=p&&mn&&new mn(_.bind(0,{vt:!0}));return D&&D.observe(n),g(),[()=>{E(),C(),d&&d[0](),D&&D.disconnect(),x()},()=>{k(),S()},()=>{var t={},e=A(),n=L(),a=d&&d[1]();return e&&I(t,w.apply(0,nt(e,!0))),n&&I(t,y.apply(0,nt(n,!0))),a&&I(t,b.apply(0,nt(a,!0))),t},t=>{const[l]=t("update.ignoreMutation"),[e,n]=t("update.attributes"),[a,i]=t("update.elementEvents"),[r,o]=t("update.debounce");if((i||n)&&(d&&(d[1](),d[0]()),d=ei(h||u,!0,b,{Ht:v.concat(e||[]),Mt:a,Dt:oi,kt:(t,e)=>{var n,a,i,r,{target:o,attributeName:s}=t;return!((e||!s||p||(e=o,s=oi,n=si,a=e&&Je(e,s),i=e&&((t,e)=>{e=e?Oe(e)?e:null:document;return e?e.querySelector(t):null})(n,a),r=Je(i,s)===a,!a)||!i||!(a===e||i===e||r&&Je(Je(e,n),s)!==a))&&!Je(o,"."+q)&&(i=t,!M(l)||!l(i)))}})),o)if(f.m(),Te(r)){const t=r[0],l=r[1];s=xe(t)&&t,c=xe(l)&&l}else c=(s=!!xe(r)&&r,!1)}]},hi={x:0,y:0},pi=Math["round"],mi=(g,y,t,_,b,w)=>{const E=ct()["B"],{Ft:S,Gt:L,Xt:C}=t,k="scroll"+(w?"Left":"Top"),x="client"+(w?"X":"Y"),A=w?"width":"height",D=w?"left":"top",T=w?"w":"h",M=w?"x":"y";return lt(L,"pointerdown",t=>{const e=Je(t.target,"."+ya)===S,n=e?S:L;if(((t,e,n)=>{var e=e.scrollbars,{button:t,isPrimary:a,pointerType:i}=t,r=e["pointers"];return 0===t&&a&&e[n?"dragScroll":"clickScroll"]&&(r||[]).includes(i)})(t,g,e)){const g=!e&&t.shiftKey,r=()=>$n(S),o=()=>$n(L),s=(t,e)=>(t||r())[D]-(e||o())[D],l=(a=_[k]||0,i=1/(t=>{var{width:e,height:n}=$n(t),{w:t,h:a}=Pn(t);return{x:pi(e)/t||1,y:pi(n)/a||1}})(_)[M],t=>{var e=b()["Tt"],n=Pn(L)[T]-Pn(S)[T],t=i*t/n*e[M],n=!qn(C)||!w||E.n||E.i?1:-1;_[k]=a+t*n}),c=t[x],d=r(),u=o(),h=d[A],p=s(d,u)+h/2,m=c-u[D],v=e?0:m-p,f=[lt(y,"selectstart",t=>Wn(t),{S:!1}),lt(L,"pointermove",t=>{t=t[x]-c;(e||g)&&l(v+t)})];if(g)l(v);else if(!e){const g=Da().__osClickScrollPlugin;g&&nt(f,g.O(l,s,v,h,m))}lt(L,"pointerup",t=>{Ve(f),n.releasePointerCapture(t.pointerId)},{C:!0}),n.setPointerCapture(t.pointerId)}var a,i})},{min:vi,max:fi,abs:gi,round:yi}=Math,_i=(t,e,n,a)=>{if(a){const t=n?"x":"y",{Tt:e,zt:i}=a,r=i[t],o=e[t];return fi(0,vi(1,r/(r+o)))}const i=n?"w":"h",r=Pn(t)[i],o=Pn(e)[i];return fi(0,vi(1,r/o))},bi=(t,e,o)=>{const{N:n,L:s}=ct(),a=n()["scrollbars"],i=a["slot"],{ct:l,W:r,Z:c,J:d,lt:u,ot:p,it:h,ut:m}=e,v=(u?{}:t)["scrollbars"],f=(v||{})["slot"],g=Pa([r,c,d],()=>m&&h?r:c,i,f),y=(t,e,n)=>{const a=n?st:An;T(t,t=>{a(t.Xt,e)})},_=(t,n)=>{T(t,t=>{var[t,e]=n(t);J(t,e)})},b=(t,n,a)=>{_(t,t=>{var{Ft:t,Gt:e}=t;return[t,{[a?"width":"height"]:(100*_i(t,e,a,n)).toFixed(3)+"%"}]})},w=(t,d,u)=>{const h=u?"X":"Y";_(t,t=>{var e,n,a,i,r,o,{Ft:t,Gt:s,Xt:l}=t,c=(e=t,s=s,c=p,n=d,l=qn(l),a=u,i=ct().B,r=a?"x":"y",o=a?"Left":"Top",n=n.Tt,n=yi(n[r]),r=gi(c["scroll"+o]),c=a&&l,o=i.i?r:n-r,l=vi(1,(c?o:r)/n),1/(i=_i(e,s,a))*(1-i)*l);return[t,{transform:c==c?`translate${h}(${(100*c).toFixed(3)}%)`:""}]})},E=[],S=[],L=[],C=(t,e,n)=>{var a=De(n),i=!a||!n;a&&!n||y(S,t,e),i&&y(L,t,e)},k=t=>{var e=t?va:fa,n=t?S:L,a=Re(n)?wa:"",e=nn(q+` ${e} `+a),a=nn(ga),i=nn(ya),r={Xt:e,Gt:a,Ft:i};return s||st(e,"os-no-css-vars"),rt(e,a),rt(a,i),nt(n,r),nt(E,[en.bind(0,e),o(r,C,l,c,p,t)]),r},x=k.bind(0,!0),A=k.bind(0,!1);return x(),A(),[{Ut:t=>{b(S,t,!0),b(L,t)},Wt:t=>{w(S,t,!0),w(L,t)},Zt:C,Jt:{Kt:S,Qt:x,tn:_.bind(0,S)},nn:{Kt:L,Qt:A,tn:_.bind(0,L)}},()=>{rt(g,S[0].Xt),rt(g,L[0].Xt),gn(()=>{C(wa)},300)},Ve.bind(0,E)]},wi=(t,e,n)=>{M(t)&&t(e||void 0,n||void 0)},Ei=(l,t,e)=>{const{F:n,N:a,Y:i,j:r}=ct(),o=Da(),c=Ne(l),d=c?l:l.target,s=Va(d);if(t&&!s){let s=!1;const u=t=>{var e=Da().__osOptionsValidationPlugin,e=e&&e.O;return e?e(t,!0):t},h=I({},n(),u(t)),[p,m,Y]=Gn(e),[v,f,g]=((t,a)=>{const e=$a(a,{}),[n,i,r]=Gn(),[o,s,l]=Wa(t),c=Fa((t=o,{K:{t:0,r:0,b:0,l:0},St:!1,P:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},zt:hi,Tt:hi,Ct:{x:"hidden",y:"hidden"},Et:{x:!1,y:!1},ht:!1,bt:qn(t.Z)})),[d,u]=c,h=((t,e)=>{const{W:o,J:s,_t:l,ut:c}=t,{I:n,A:a,V:d}=ct(),u=!n&&(a.x||a.y),h=[((t,e)=>{const a=t["tt"],[i]=e;return t=>{var e=ct()["V"],n=i()["ht"],t=t["gt"],e=(a||!e)&&t;return e&&J(a,{height:n?"":"100%"}),{vt:e,wt:e}}})(t,e),((t,e)=>{const[u,h]=e,{Z:n,K:p,J:m,ut:v}=t,[f,g]=Q({u:En,o:Nn()},Nn.bind(0,n,"padding",""));return(t,e,n)=>{let[a,i]=g(n);var{I:r,V:o}=ct(),s=u()["bt"],{vt:t,wt:l,yt:c}=t,[d,e]=e("paddingAbsolute"),t=((t||i||!o&&l)&&([a,i]=f(n)),!v&&(e||c||i));if(t){const t=!d||!p&&!r,e=a.r+a.l,u=a.t+a.b,n={marginRight:t&&!s?-e:0,marginBottom:t?-u:0,marginLeft:t&&s?-e:0,top:t?-a.t:0,right:t?s?-a.r:"auto":0,left:t?s?"auto":-a.l:0,width:t?`calc(100% + ${e}px)`:""},v={paddingTop:t?a.t:0,paddingRight:t?a.r:0,paddingBottom:t?a.b:0,paddingLeft:t?a.l:0};J(p||m,n),J(m,v),h({K:a,St:!t,P:p?v:I({},n,v)})}return{xt:t}}})(t,e),((t,e)=>{const[k,x]=e,{Z:A,K:D,J:T,nt:n,ut:M,_t:I,it:a,et:q}=t,{k:h,V:N,I:O,A:H}=ct(),i=Da()[Ta],r=!M&&!O&&(H.x||H.y),P=a&&M,[R,V]=Q(Ga,Bn.bind(0,T)),[B,$]=Q(Ga,Vn.bind(0,T)),[F,j]=Q(Ga),[Y,X]=Q(Ga),[W]=Q(Ka),z=(t,e)=>{if(J(T,{height:""}),e){const{St:e,K:n}=k(),{$t:a,M:i}=t,r=Bn(A),o=Rn(A),s="content-box"===J(T,"boxSizing"),l=e||s?n.b+n.t:0,c=!(H.x&&s);J(T,{height:o.h+r.h+(a.x&&c?i.x:0)-l})}},U=(t,i)=>{const r=O||t?0:42,e=(t,e,n)=>{var a=J(T,t),t="scroll"===(i?i[t]:a);return[a,t,t&&!O?e?r:n:0,e&&!!r]},[n,a,o,s]=e("overflowX",H.x,h.x),[l,c,d,u]=e("overflowY",H.y,h.y);return{Ct:{x:n,y:l},$t:{x:a,y:c},M:{x:o,y:d},D:{x:s,y:u}}},Z=(t,e,n,a)=>{var{M:t,D:i}=t,{x:i,y:r}=i,{x:t,y:o}=t,s=k()["P"],l=e?"marginLeft":"marginRight",e=e?"paddingLeft":"paddingRight",c=s[l],d=s.marginBottom,u=s[e],s=s.paddingBottom;a.width=`calc(100% + ${o+-1*c}px)`,a[l]=-o+c,a.marginBottom=-t+d,n&&(a[e]=u+(r?o:0),a.paddingBottom=s+(i?t:0))},[G,K]=i?i.H(r,N,T,n,k,U,Z):[()=>r,()=>[ot]];return(n,a,i)=>{var{vt:n,Ot:t,wt:e,xt:r,gt:o,yt:s}=n,{ht:l,bt:c}=k(),[d,u]=a("showNativeOverlaidScrollbars"),[h,a]=a("overflow"),d=d&&H.x&&H.y,t=!M&&!N&&(n||e||t||u||o),o=Qa(h.x),p=Qa(h.y),m=o||p;let v,f=V(i),g=$(i),y=j(i),_=X(i);if(u&&O&&I(ua,"scrollbarHidden",!d),t&&(v=U(d),z(v,l)),n||r||e||s||u){m&&I(ha,sa,!1);const[n,a]=K(d,c,v),[k,x]=f=R(i),[A,D]=g=B(i),M=Rn(T);let t=A,e=M;n(),(D||x||u)&&a&&!d&&G(a,A,k,c)&&(e=Rn(T),t=Vn(T));const N={w:Ua(za(A.w,t.w)+k.w),h:Ua(za(A.h,t.h)+k.h)},O={w:Ua((P?q.innerWidth:e.w+Ua(M.w-A.w))+k.w),h:Ua((P?q.innerHeight+k.h:e.h+Ua(M.h-A.h))+k.h)};_=Y(O),y=F(((t,e)=>{const n=window.devicePixelRatio%1!=0?1:0,a=Ua(t.w-e.w),i=Ua(t.h-e.h);return{w:a>n?a:0,h:i>n?i:0}})(N,O),i)}var[n,e]=_,[i,b]=y,[w,E]=g,[S,L]=f,C={x:0<i.w,y:0<i.h},o=o&&p&&(C.x||C.y)||o&&C.x&&!C.y||p&&C.y&&!C.x;if(r||s||L||E||e||b||a||u||t){const n={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},a=((t,e,n,a)=>{var i=(t,e)=>{var n=Qa(t),a=e&&n&&t.replace(Za+"-","")||"";return[e&&!n?t:"",Qa(a)?"hidden":a]},[r,o]=i(n.x,e.x),[i,n]=i(n.y,e.y);return a.overflowX=o&&i?o:r,a.overflowY=n&&r?n:i,U(t,a)})(d,C,h,n),k=G(a,w,S,c);M||Z(a,c,k,n),t&&z(a,l),M?(it(A,ra,n.overflowX),it(A,oa,n.overflowY)):J(T,n)}je(A,aa,sa,o),Ja(D,ha,o),M||Ja(T,ha,m);var[p,r]=W(U(d).Ct);return x({Ct:p,zt:{x:n.w,y:n.h},Tt:{x:i.w,y:i.h},Et:C}),{It:r,At:e,Lt:b}}})(t,e)];return(e,t,n)=>{var t=ti(I({vt:!1,xt:!1,yt:!1,gt:!1,At:!1,Lt:!1,It:!1,Ot:!1,wt:!1},t),{},n),a=u||!d,i=a&&Xe(s),a=a&&We(s);l("",la,!0);let r=t;return T(h,t=>{r=ti(r,t(r,e,!!n)||{},n)}),Xe(s,i),We(s,a),l("",la),c||(Xe(o,0),We(o,0)),r}})(o,c),p=(e,t,n)=>{var a=at(e).some(t=>e[t])||!$e(t)||n;return a&&r("u",[e,t,n]),a},[m,v,f,g]=ui(o,u,t=>p(h(e,t),{},!1)),y=d.bind(0);return y.jt=t=>n("u",t),y.Nt=()=>{var{W:t,J:e}=o,n=Xe(t),t=We(t);v(),s(),Xe(e,n),We(e,t)},y.qt=o,[(t,e)=>{var n=$a(a,t,e);return g(n),p(h(n,f(),e),t,!!e)},y,()=>{i(),m(),l()}]})(l,h),[y,_,b]=((t,T,M)=>{let I,q,N,e,O,H=0;const n=Fa({}),[a]=n,[i,r]=Ln(),[o,s]=Ln(),[l,c]=Ln(100),[d,u]=Ln(100),[h,p]=Ln(()=>H),[m,v,f]=bi(t,M.qt,(S=T,L=M,(t,i,e,r,o,n)=>{const s=t["Xt"],[l,a]=Ln(333),c=!!o.scrollBy;let d=!0;return Ve.bind(0,[lt(s,"pointerenter",()=>{i(Ea,!0)}),lt(s,"pointerleave pointercancel",()=>{i(Ea)}),lt(s,"wheel",t=>{var{deltaX:e,deltaY:n,deltaMode:a}=t;c&&d&&0===a&&Ke(s)===r&&o.scrollBy({left:e,top:n,behavior:"smooth"}),d=!1,i(Ca,!0),l(()=>{d=!0,i(Ca)}),Wn(t)},{S:!1,$:!0}),(u=s,h=e,lt(u,"mousedown",lt.bind(0,h,"click",Xn,{C:!0,$:!0}),{$:!0})),mi(S,e,t,o,L,n),a]);var u,h})),{Z:g,J:C,ot:y,st:k,ut:_,it:P}=M.qt,{Jt:x,nn:A,Zt:R,Ut:$,Wt:V}=m,D=x["tn"],F=A["tn"],b=t=>{t=t.Xt,t=_&&!P&&Ke(t)===C&&t;return[t,{transform:t?`translate(${Xe(y)}px, ${We(y)}px)`:""}]},B=(t,e)=>{if(p(),t)R(La);else{const t=()=>R(La,!0);0<H&&!e?h(t):t()}},w=()=>{(e=q)&&B(!0)},j=[c,p,u,s,r,f,lt(g,"pointerover",w,{C:!0}),lt(g,"pointerenter",w),lt(g,"pointerleave",()=>{e=!1,q&&B(!1)}),lt(g,"pointermove",()=>{I&&i(()=>{c(),B(!0),d(()=>{I&&B(!1)})})}),lt(k,"scroll",t=>{o(()=>{V(M()),N&&B(!0),l(()=>{N&&!e&&B(!1)})}),t=t,Y("scroll",[X,t]),_&&D(b),_&&F(b)})],E=a.bind(0);var S,L;return E.qt=m,E.Nt=v,[(t,e,n)=>{const{At:a,Lt:i,It:r,yt:o}=n,s=ct()["A"],l=$a(T,t,e),c=M(),{Tt:d,Ct:u,bt:h}=c,[p,m]=l("showNativeOverlaidScrollbars"),[v,f]=l("scrollbars.theme"),[g,y]=l("scrollbars.visibility"),[_,b]=l("scrollbars.autoHide"),[w]=l("scrollbars.autoHideDelay"),[E,S]=l("scrollbars.dragScroll"),[L,C]=l("scrollbars.clickScroll"),k=a||i||o,x=r||y,A=p&&s.x&&s.y,D=(t,e)=>{t="visible"===g||"auto"===g&&"scroll"===t;return R(_a,t,e),t};if(H=w,m&&R("os-theme-none",A),f&&(R(O),R(v,!0),O=v),b&&(I="move"===_,q="leave"===_,N="never"!==_,B(!N,!0)),S&&R(xa,E),C&&R(ka,L),x){const t=D(u.x,!0),T=D(u.y,!1);R(ba,!(t&&T))}k&&($(c),V(c),R(Sa,!d.x,!0),R(Sa,!d.y,!1),R(ma,h&&!P))},E,Ve.bind(0,j)]})(l,h,f),w=(t,e)=>v(t,!!e),E=w.bind(0,{},!0),S=i(E),L=r(E),C=t=>{var e;e=d,Ra.delete(e),S(),L(),b(),g(),s=!0,Y("destroyed",[X,!!t]),m()},X={options(t,e){return t&&(e=e?n():{},e=Qn(h,I(e,u(t))),$e(e)||(I(h,e),w(e))),I({},h)},on:p,off:(t,e)=>{t&&e&&m(t,e)},state(){var{zt:t,Tt:e,Ct:n,Et:a,K:i,St:r,bt:o}=f();return I({},{overflowEdge:t,overflowAmount:e,overflowStyle:n,hasOverflow:a,padding:i,paddingAbsolute:r,directionRTL:o,destroyed:s})},elements(){const{W:t,Z:e,K:n,J:a,tt:i,ot:r,st:o}=f.qt,{Jt:s,nn:l}=_.qt,c=t=>{var{Ft:t,Gt:e,Xt:n}=t;return{scrollbar:n,track:e,handle:t}},d=t=>{const{Kt:e,Qt:n}=t,a=c(e[0]);return I({},a,{clone:()=>{var t=c(n());return y({},!0,{}),t}})};return I({},{target:t,host:e,padding:n||a,viewport:a,content:i||a,scrollOffsetElement:r,scrollEventElement:o,scrollbarHorizontal:d(s),scrollbarVertical:d(l)})},update:t=>w({},t),destroy:C.bind(0)};return f.jt((t,e,n)=>{y(e,n,t)}),t=d,e=X,Ra.set(t,e),T(at(o),t=>wi(o[t],0,X)),((t,e)=>{var{nativeScrollbarsOverlaid:n,body:a}=!c&&l.cancel||{},{A:i,I:r}=ct(),{nativeScrollbarsOverlaid:e,body:o}=e,n=null!=n?n:e,e=Ce(a)?o:a,o=(i.x||i.y)&&n,a=t&&(ke(e)?!r:e);return!!o||!!a})(f.qt.it,a().cancel)?C(!0):(f.Nt(),_.Nt(),Y("initialized",[X]),f.jt((t,e,n)=>{var{vt:t,yt:a,gt:i,At:r,Lt:o,It:s,wt:l,Ot:c}=t;Y("updated",[X,{updateHints:{sizeChanged:t,directionChanged:a,heightIntrinsicChanged:i,overflowEdgeChanged:r,overflowAmountChanged:o,overflowStyleChanged:s,contentMutation:l,hostMutation:c},changedOptions:e,force:n}])}),X.update(!0)),X}return s},Si=(Ei.plugin=t=>{T((t=>{const n=[];return T(Te(t)?t:[t],e=>{T(at(e),t=>{nt(n,Aa[t]=e[t])})}),n})(t),t=>wi(t,Ei))},Ei.valid=t=>{t=t&&t.elements,t=M(t)&&t();return qe(t)&&!!Va(t.target)},Ei.env=()=>{var{k:t,A:e,I:n,B:a,V:i,L:r,X:o,U:s,N:l,q:c,F:d,G:u}=ct();return I({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:n,rtlScrollBehavior:a,flexboxGlue:i,cssCustomProperties:r,staticDefaultInitialization:o,staticDefaultOptions:s,getDefaultInitialization:l,setDefaultInitialization:c,getDefaultOptions:d,setDefaultOptions:u})},{scrollbars:{autoHide:"leave",autoHideDelay:300}}),Li=t=>{if(t){const e=t.checked,n=t.dataset.clientsSettingsCheckbox,a=document.body.querySelectorAll(`[data-setting-row='${n}']`);a.length&&(a.forEach(t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")}),U())}};function Ci(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function ki(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(i),!0).forEach(function(t){var e,n;e=a,n=i[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Ci(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function xi(t){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(){return(Ai=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,a=arguments[e];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Di(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var Ti=Di(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mi=Di(/Edge/i),Ii=Di(/firefox/i),qi=Di(/safari/i)&&!Di(/chrome/i)&&!Di(/android/i),Ni=Di(/iP(ad|od|hone)/i),Oi=Di(/chrome/i)&&Di(/android/i),Hi={capture:!1,passive:!1};function l(t,e,n){t.addEventListener(e,n,!Ti&&Hi)}function r(t,e,n){t.removeEventListener(e,n,!Ti&&Hi)}function Pi(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function Ri(t,e,n,a){if(t){n=n||document;do{if(null!=e&&(">"!==e[0]||t.parentNode===n)&&Pi(t,e)||a&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode))}var i;return null}var Vi,Bi=/\s+/g;function N(t,e,n){var a;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(a=(" "+t.className+" ").replace(Bi," ").replace(" "+e+" "," "),t.className=(a+(n?" "+e:"")).replace(Bi," ")))}function O(t,e,n){var a=t&&t.style;if(a){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];a[e=e in a||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=n+("string"==typeof n?"":"px")}}function $i(t,e){var n="";if("string"==typeof t)n=t;else do{var a=O(t,"transform")}while(a&&"none"!==a&&(n=a+" "+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Fi(t,e,n){if(t){var a=t.getElementsByTagName(e),i=0,r=a.length;if(n)for(;i<r;i++)n(a[i],i);return a}return[]}function ji(){return document.scrollingElement||document.documentElement}function H(t,e,n,a,i){if(t.getBoundingClientRect||t===window){var r,o,s,l,c,d,u=t!==window&&t.parentNode&&t!==ji()?(o=(r=t.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,d=r.height,r.width):(s=o=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!Ti))do{if(i&&i.getBoundingClientRect&&("none"!==O(i,"transform")||n&&"static"!==O(i,"position"))){var h=i.getBoundingClientRect();o-=h.top+parseInt(O(i,"border-top-width")),s-=h.left+parseInt(O(i,"border-left-width")),l=o+r.height,c=s+r.width;break}}while(i=i.parentNode);return a&&t!==window&&(a=(e=$i(i||t))&&e.a,t=e&&e.d,e)&&(l=(o/=t)+(d/=t),c=(s/=a)+(u/=a)),{top:o,left:s,bottom:l,right:c,width:u,height:d}}}function Yi(t,e,n){for(var a=Ui(t,!0),i=H(t)[e];a;){var r=H(a)[n];if(!("top"===n||"left"===n?r<=i:i<=r))return a;if(a===ji())break;a=Ui(a,!1)}return!1}function Xi(t,e,n,a){for(var i=0,r=0,o=t.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==z.ghost&&(a||o[r]!==z.dragged)&&Ri(o[r],n.draggable,t,!1)){if(i===e)return o[r];i++}r++}return null}function Wi(t,e){for(var n=t.lastElementChild;n&&(n===z.ghost||"none"===O(n,"display")||e&&!Pi(n,e));)n=n.previousElementSibling;return n||null}function P(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===z.clone||e&&!Pi(t,e)||n++;return n}function zi(t){var e=0,n=0,a=ji();if(t)do{var i=$i(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==a&&(t=t.parentNode));return[e,n]}function Ui(t,e){if(t&&t.getBoundingClientRect){var n=t,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=O(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return ji();if(a||e)return n;a=!0}}}while(n=n.parentNode)}return ji()}function Zi(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Gi(e,n){return function(){var t;Vi||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),Vi=setTimeout(function(){Vi=void 0},n))}}function Ki(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Ji(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function R(t,e){var n=(a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,a=function(t,e){if(null==t)return{};var n,a=function(t,e){if(null==t)return{};for(var n,a={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n]);return a}(a,nr);er.pluginEvent.bind(z)(t,e,ki({dragEl:$,parentEl:F,ghostEl:j,rootEl:Y,nextEl:cr,lastDownEl:dr,cloneEl:_,cloneHidden:ur,dragStarted:Er,putSortable:W,activeSortable:z.active,originalEvent:n,oldIndex:hr,oldDraggableIndex:pr,newIndex:X,newDraggableIndex:mr,hideGhostForTarget:rr,unhideGhostForTarget:or,cloneNowHidden:function(){ur=!0},cloneNowShown:function(){ur=!1},dispatchSortableEvent:function(t){B({sortable:e,name:t,originalEvent:n})}},a))}var V="Sortable"+(new Date).getTime(),Qi=[],tr={initializeByDefault:!0},er={mount:function(e){for(var t in tr)!tr.hasOwnProperty(t)||t in e||(e[t]=tr[t]);Qi.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Qi.push(e)},pluginEvent:function(e,n,a){var t=this,i=(this.eventCanceled=!1,a.cancel=function(){t.eventCanceled=!0},e+"Global");Qi.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](ki({sortable:n},a)),n.options[t.pluginName])&&n[t.pluginName][e]&&n[t.pluginName][e](ki({sortable:n},a))})},initializePlugins:function(n,a,i,t){for(var e in Qi.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,a,n.options)).sortable=n,t.options=n.options,n[e]=t,Ai(i,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r)}},getEventProperties:function(e,n){var a={};return Qi.forEach(function(t){"function"==typeof t.eventProperties&&Ai(a,t.eventProperties.call(n[t.pluginName],e))}),a},modifyOption:function(e,n,a){var i;return Qi.forEach(function(t){e[t.pluginName]&&t.optionListeners&&"function"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],a))}),i}},nr=["evt"];function B(t){var e=(t=ki({putSortable:W,cloneEl:_,targetEl:$,rootEl:Y,oldIndex:hr,oldDraggableIndex:pr,newIndex:X,newDraggableIndex:mr},t)).sortable,n=t.rootEl,a=t.name,i=t.targetEl,r=t.cloneEl,o=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,d=t.oldDraggableIndex,u=t.newDraggableIndex,h=t.originalEvent,p=t.putSortable,t=t.extraEventProperties;if(e=e||n&&n[V]){var m,v,f=e.options,g="on"+a.charAt(0).toUpperCase()+a.substr(1),y=(!window.CustomEvent||Ti||Mi?(m=document.createEvent("Event")).initEvent(a,!0,!0):m=new CustomEvent(a,{bubbles:!0,cancelable:!0}),m.to=o||n,m.from=s||n,m.item=i||n,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=d,m.newDraggableIndex=u,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0,ki(ki({},t),er.getEventProperties(a,e)));for(v in y)m[v]=y[v];n&&n.dispatchEvent(m),f[g]&&f[g].call(e,m)}}function ar(t,e){var n,a=O(t),i=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),r=Xi(t,0,e),t=Xi(t,1,e),e=r&&O(r),o=t&&O(t),s=e&&parseInt(e.marginLeft)+parseInt(e.marginRight)+H(r).width,l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+H(t).width;return"flex"===a.display?"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal":"grid"===a.display?a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&e.float&&"none"!==e.float?(n="left"===e.float?"left":"right",!t||"both"!==o.clear&&o.clear!==n?"horizontal":"vertical"):r&&("block"===e.display||"flex"===e.display||"table"===e.display||"grid"===e.display||i<=s&&"none"===a[Hr]||t&&"none"===a[Hr]&&i<s+l)?"vertical":"horizontal"}function ir(t){function s(r,o){return function(t,e,n,a){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;return!(null!=r||!o&&!i)||null!=r&&!1!==r&&(o&&"clone"===r?r:"function"==typeof r?s(r(t,e,n,a),o)(t,e,n,a):(i=(o?t:e).options.group.name,!0===r||"string"==typeof r&&r===i||r.join&&-1<r.indexOf(i)))}}var e={},n=t.group;n&&"object"==xi(n)||(n={name:n}),e.name=n.name,e.checkPull=s(n.pull,!0),e.checkPut=s(n.put),e.revertClone=n.revertClone,t.group=e}function rr(){!Rr&&j&&O(j,"display","none")}function or(){!Rr&&j&&O(j,"display","")}function sr(t){if($){i=(t=t.touches?t.touches[0]:t).clientX,r=t.clientY,Ar.some(function(t){var e,n,a=t[V].options.emptyInsertThreshold;if(a&&!Wi(t))return n=H(t),e=i>=n.left-a&&i<=n.right+a,n=r>=n.top-a&&r<=n.bottom+a,e&&n?o=t:void 0});var e=o;if(e){var n,a={};for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);a.target=a.rootEl=e,a.preventDefault=void 0,a.stopPropagation=void 0,e[V]._onDragOver(a)}}var i,r,o}function lr(t){$&&$.parentNode[V]._isOutsideThisEl(t.target)}var $,F,j,Y,cr,dr,_,ur,hr,X,pr,mr,vr,W,fr,gr,yr,_r,br,wr,Er,Sr,Lr,Cr,c,kr=!1,xr=!1,Ar=[],Dr=!1,Tr=!1,Mr=[],Ir=!1,qr=[],Nr="undefined"!=typeof document,Or=Ni,Hr=Mi||Ti?"cssFloat":"float",Pr=Nr&&!Oi&&!Ni&&"draggable"in document.createElement("div"),Rr=function(){var t;if(Nr)return!Ti&&((t=document.createElement("x")).style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}();Nr&&!Oi&&document.addEventListener("click",function(t){if(xr)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),xr=!1},!0);function z(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ai({},e),t[V]=this;var n,a,i,r,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ar(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==z.supportPointer&&"PointerEvent"in window&&!qi,emptyInsertThreshold:5};for(i in er.initializePlugins(this,t,o),o)i in e||(e[i]=o[i]);for(r in ir(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Pr,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?l(t,"pointerdown",this._onTapStart):(l(t,"mousedown",this._onTapStart),l(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(l(t,"dragover",this),l(t,"dragenter",this)),Ar.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ai(this,(a=[],{captureAnimationState:function(){a=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;"none"!==O(t,"display")&&t!==z.ghost&&(a.push({target:t,rect:H(t)}),e=ki({},a[a.length-1].rect),t.thisAnimationDuration&&(n=$i(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){a.push(t)},removeAnimationState:function(t){a.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var a in e)if(e.hasOwnProperty(a)&&e[a]===t[n][a])return Number(n);return-1}(a,{target:t}),1)},animateAll:function(t){var c,d,u=this;this.options.animation?(c=!1,d=0,a.forEach(function(t){var e,n=0,a=t.target,i=a.fromRect,r=H(a),o=a.prevFromRect,s=a.prevToRect,t=t.rect,l=$i(a,!0);l&&(r.top-=l.f,r.left-=l.e),a.toRect=r,a.thisAnimationDuration&&Zi(o,r)&&!Zi(i,r)&&(t.top-r.top)/(t.left-r.left)==(i.top-r.top)/(i.left-r.left)&&(l=t,o=o,s=s,e=u.options,n=Math.sqrt(Math.pow(o.top-l.top,2)+Math.pow(o.left-l.left,2))/Math.sqrt(Math.pow(o.top-s.top,2)+Math.pow(o.left-s.left,2))*e.animation),Zi(r,i)||(a.prevFromRect=i,a.prevToRect=r,n=n||u.options.animation,u.animate(a,t,r,n)),n&&(c=!0,d=Math.max(d,n),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},n),a.thisAnimationDuration=n)}),clearTimeout(n),c?n=setTimeout(function(){"function"==typeof t&&t()},d):"function"==typeof t&&t(),a=[]):(clearTimeout(n),"function"==typeof t&&t())},animate:function(t,e,n,a){var i,r;a&&(O(t,"transition",""),O(t,"transform",""),r=(i=$i(this.el))&&i.a,i=i&&i.d,r=(e.left-n.left)/(r||1),e=(e.top-n.top)/(i||1),t.animatingX=!!r,t.animatingY=!!e,O(t,"transform","translate3d("+r+"px,"+e+"px,0)"),this.forRepaintDummy=t.offsetWidth,O(t,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),O(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){O(t,"transition",""),O(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},a))}}))}function Vr(t,e,n,a,i,r,o,s){var l,c,d=t[V],u=d.options.onMove;return!window.CustomEvent||Ti||Mi?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=a,l.related=i||e,l.relatedRect=r||H(e),l.willInsertAfter=s,l.originalEvent=o,t.dispatchEvent(l),c=u?u.call(d,l,o):c}function Br(t){t.draggable=!1}function $r(){Ir=!1}function Fr(t){return setTimeout(t,0)}function jr(t){return clearTimeout(t)}z.prototype={constructor:z,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Sr=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,$):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,a=this.el,t=this.options,i=t.preventOnFilter,r=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=t.filter,d=a;qr.length=0;for(var u=d.getElementsByTagName("input"),h=u.length;h--;){var p=u[h];p.checked&&qr.push(p)}if(!$&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!qi||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Ri(s,t.draggable,a,!1))&&s.animated||dr===s)){if(hr=P(s),pr=P(s,t.draggable),"function"==typeof c){if(c.call(this,e,s,this))return B({sortable:n,rootEl:l,name:"filter",targetEl:s,toEl:a,fromEl:a}),R("filter",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(",").some(function(t){if(t=Ri(l,t.trim(),a,!1))return B({sortable:n,rootEl:t,name:"filter",targetEl:s,fromEl:a,toEl:a}),R("filter",n,{evt:e}),!0}))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!Ri(l,t.handle,a,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(t,e,n){var a,i=this,r=i.el,o=i.options,s=r.ownerDocument;n&&!$&&n.parentNode===r&&(a=H(n),Y=r,F=($=n).parentNode,cr=$.nextSibling,dr=n,vr=o.group,fr={target:z.dragged=$,clientX:(e||t).clientX,clientY:(e||t).clientY},br=fr.clientX-a.left,wr=fr.clientY-a.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,$.style["will-change"]="all",r=function(){R("delayEnded",i,{evt:t}),z.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Ii&&i.nativeDraggable&&($.draggable=!0),i._triggerDragStart(t,e),B({sortable:i,name:"choose",originalEvent:t}),N($,o.chosenClass,!0))},o.ignore.split(",").forEach(function(t){Fi($,t.trim(),Br)}),l(s,"dragover",sr),l(s,"mousemove",sr),l(s,"touchmove",sr),l(s,"mouseup",i._onDrop),l(s,"touchend",i._onDrop),l(s,"touchcancel",i._onDrop),Ii&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),R("delayStart",this,{evt:t}),!o.delay||o.delayOnTouchOnly&&!e||this.nativeDraggable&&(Mi||Ti)?r():z.eventCanceled?this._onDrop():(l(s,"mouseup",i._disableDelayedDrag),l(s,"touchend",i._disableDelayedDrag),l(s,"touchcancel",i._disableDelayedDrag),l(s,"mousemove",i._delayedDragTouchMoveHandler),l(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&l(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,o.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&Br($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._disableDelayedDrag),r(t,"touchend",this._disableDelayedDrag),r(t,"touchcancel",this._disableDelayedDrag),r(t,"mousemove",this._delayedDragTouchMoveHandler),r(t,"touchmove",this._delayedDragTouchMoveHandler),r(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):l(document,e?"touchmove":"mousemove",this._onTouchMove):(l($,"dragend",this),l(Y,"dragstart",this._onDragStart));try{document.selection?Fr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;kr=!1,Y&&$?(R("dragStarted",this,{evt:e}),this.nativeDraggable&&l(document,"dragover",lr),n=this.options,t||N($,n.dragClass,!1),N($,n.ghostClass,!0),z.active=this,t&&this._appendGhost(),B({sortable:this,name:"start",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(gr){this._lastX=gr.clientX,this._lastY=gr.clientY,rr();for(var t=document.elementFromPoint(gr.clientX,gr.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(gr.clientX,gr.clientY))!==e;)e=t;if($.parentNode[V]._isOutsideThisEl(t),e)for(;(!e[V]||!e[V]._onDragOver({clientX:gr.clientX,clientY:gr.clientY,target:t,rootEl:e})||this.options.dragoverBubble)&&(e=(t=e).parentNode););or()}},_onTouchMove:function(t){if(fr){var e=this.options,n=e.fallbackTolerance,e=e.fallbackOffset,a=t.touches?t.touches[0]:t,i=j&&$i(j,!0),r=j&&i&&i.a,o=j&&i&&i.d,s=Or&&c&&zi(c),r=(a.clientX-fr.clientX+e.x)/(r||1)+(s?s[0]-Mr[0]:0)/(r||1),e=(a.clientY-fr.clientY+e.y)/(o||1)+(s?s[1]-Mr[1]:0)/(o||1);if(!z.active&&!kr){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}j&&(i?(i.e+=r-(yr||0),i.f+=e-(_r||0)):i={a:1,b:0,c:0,d:1,e:r,f:e},s="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")"),O(j,"webkitTransform",s),O(j,"mozTransform",s),O(j,"msTransform",s),O(j,"transform",s),yr=r,_r=e,gr=a),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!j){var t=this.options.fallbackOnBody?document.body:Y,e=H($,!0,Or,!0,t),n=this.options;if(Or){for(c=t;"static"===O(c,"position")&&"none"===O(c,"transform")&&c!==document;)c=c.parentNode;c!==document.body&&c!==document.documentElement?(c===document&&(c=ji()),e.top+=c.scrollTop,e.left+=c.scrollLeft):c=ji(),Mr=zi(c)}N(j=$.cloneNode(!0),n.ghostClass,!1),N(j,n.fallbackClass,!0),N(j,n.dragClass,!0),O(j,"transition",""),O(j,"transform",""),O(j,"box-sizing","border-box"),O(j,"margin",0),O(j,"top",e.top),O(j,"left",e.left),O(j,"width",e.width),O(j,"height",e.height),O(j,"opacity","0.8"),O(j,"position",Or?"absolute":"fixed"),O(j,"zIndex","100000"),O(j,"pointerEvents","none"),z.ghost=j,t.appendChild(j),O(j,"transform-origin",br/parseInt(j.style.width)*100+"% "+wr/parseInt(j.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,a=t.dataTransfer,i=n.options;R("dragStart",this,{evt:t}),z.eventCanceled?this._onDrop():(R("setupClone",this),z.eventCanceled||((_=Ji($)).removeAttribute("id"),_.draggable=!1,_.style["will-change"]="",this._hideClone(),N(_,this.options.chosenClass,!1),z.clone=_),n.cloneId=Fr(function(){R("clone",n),z.eventCanceled||(n.options.removeCloneOnHide||Y.insertBefore(_,$),n._hideClone(),B({sortable:n,name:"clone"}))}),e||N($,i.dragClass,!0),e?(xr=!0,n._loopId=setInterval(n._emulateDragOver,50)):(r(document,"mouseup",n._onDrop),r(document,"touchend",n._onDrop),r(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",i.setData)&&i.setData.call(n,a,$),l(document,"drop",n),O($,"transform","translateZ(0)")),kr=!0,n._dragStartId=Fr(n._dragStarted.bind(n,e,t)),l(document,"selectstart",n),Er=!0,qi&&O(document.body,"user-select","none"))},_onDragOver:function(d){var n,a,i,r=this.el,o=d.target,e=this.options,t=e.group,s=z.active,l=vr===t,c=e.sort,u=W||s,h=this,p=!1;if(!Ir){if(void 0!==d.preventDefault&&d.cancelable&&d.preventDefault(),o=Ri(o,e.draggable,r,!0),k("dragOver"),z.eventCanceled)return p;if($.contains(d.target)||o.animated&&o.animatingX&&o.animatingY||h._ignoreWhileAnimating===o)return A(!1);if(xr=!1,s&&!e.disabled&&(l?c||(a=F!==Y):W===this||(this.lastPutMode=vr.checkPull(this,s,$,d))&&t.checkPut(this,s,$,d))){if(i="vertical"===this._getDirection(d,o),n=H($),k("dragOverValid"),z.eventCanceled)return p;if(a)return F=Y,x(),this._hideClone(),k("revert"),z.eventCanceled||(cr?Y.insertBefore($,cr):Y.appendChild($)),A(!0);t=Wi(r,e.draggable);if(!t||function(t,e,n){n=H(Wi(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(d,i,this)&&!t.animated){if(t===$)return A(!1);if((o=t&&r===d.target?t:o)&&(g=H(o)),!1!==Vr(Y,r,$,n,o,g,d,!!o))return x(),t&&t.nextSibling?r.insertBefore($,t.nextSibling):r.appendChild($),F=r,D(),A(!0)}else if(t&&function(t,e,n){n=H(Xi(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(d,i,this)){t=Xi(r,0,e,!0);if(t===$)return A(!1);if(g=H(o=t),!1!==Vr(Y,r,$,n,o,g,d,!1))return x(),r.insertBefore($,t),F=r,D(),A(!0)}else if(o.parentNode===r){var m,v,f,g=H(o),t=$.parentNode!==r,y=(S=$.animated&&$.toRect||n,y=o.animated&&o.toRect||g,w=(C=i)?S.left:S.top,_=C?S.right:S.bottom,S=C?S.width:S.height,L=C?y.left:y.top,b=C?y.right:y.bottom,C=C?y.width:y.height,!(w===L||_===b||w+S/2===L+C/2)),_=i?"top":"left",b=Yi(o,"top","top")||Yi($,"top","top"),w=b?b.scrollTop:void 0;if(Sr!==o&&(v=g[_],Dr=!1,Tr=!y&&e.invertSwap||t),0!==(m=function(t,e,n,a,i,r,o){var s=n?d.clientY:d.clientX,l=n?e.height:e.width,c=n?e.top:e.left,n=n?e.bottom:e.right,e=!1;if(!r)if(o&&Cr<l*a){if(Dr=!Dr&&(1===Lr?c+l*i/2<s:s<n-l*i/2)?!0:Dr)e=!0;else if(1===Lr?s<c+Cr:n-Cr<s)return-Lr}else if(c+l*(1-a)/2<s&&s<n-l*(1-a)/2)return o=t,P($)<P(o)?1:-1;return(e=e||r)&&(s<c+l*i/2||n-l*i/2<s)?c+l/2<s?1:-1:0}(o,g,i,y?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,Tr,Sr===o)))for(var E=P($);(f=F.children[E-=m])&&("none"===O(f,"display")||f===j););if(0===m||f===o)return A(!1);Lr=m;var S=(Sr=o).nextElementSibling,L=!1,C=Vr(Y,r,$,n,o,g,d,L=1===m);if(!1!==C)return 1!==C&&-1!==C||(L=1===C),Ir=!0,setTimeout($r,30),x(),L&&!S?r.appendChild($):o.parentNode.insertBefore($,L?S:o),b&&Ki(b,0,w-b.scrollTop),F=$.parentNode,void 0===v||Tr||(Cr=Math.abs(v-H(o)[_])),D(),A(!0)}if(r.contains($))return A(!1)}return!1}function k(t,e){R(t,h,ki({evt:d,isOwner:l,axis:i?"vertical":"horizontal",revert:a,dragRect:n,targetRect:g,canSort:c,fromSortable:u,target:o,completed:A,onMove:function(t,e){return Vr(Y,r,$,n,t,H(t),d,e)},changed:D},e))}function x(){k("dragOverAnimationCapture"),h.captureAnimationState(),h!==u&&u.captureAnimationState()}function A(t){return k("dragOverCompleted",{insertion:t}),t&&(l?s._hideClone():s._showClone(h),h!==u&&(N($,(W||s).options.ghostClass,!1),N($,e.ghostClass,!0)),W!==h&&h!==z.active?W=h:h===z.active&&(W=W&&null),u===h&&(h._ignoreWhileAnimating=o),h.animateAll(function(){k("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==u)&&(u.animateAll(),u._ignoreWhileAnimating=null),(o===$&&!$.animated||o===r&&!o.animated)&&(Sr=null),e.dragoverBubble||d.rootEl||o===document||($.parentNode[V]._isOutsideThisEl(d.target),t||sr(d)),!e.dragoverBubble&&d.stopPropagation&&d.stopPropagation(),p=!0}function D(){X=P($),mr=P($,e.draggable),B({sortable:h,name:"change",toEl:r,newIndex:X,newDraggableIndex:mr,originalEvent:d})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){r(document,"mousemove",this._onTouchMove),r(document,"touchmove",this._onTouchMove),r(document,"pointermove",this._onTouchMove),r(document,"dragover",sr),r(document,"mousemove",sr),r(document,"touchmove",sr)},_offUpEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._onDrop),r(t,"touchend",this._onDrop),r(t,"pointerup",this._onDrop),r(t,"touchcancel",this._onDrop),r(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;X=P($),mr=P($,n.draggable),R("drop",this,{evt:t}),F=$&&$.parentNode,X=P($),mr=P($,n.draggable),z.eventCanceled||(Dr=Tr=kr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),jr(this.cloneId),jr(this._dragStartId),this.nativeDraggable&&(r(document,"drop",this),r(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),qi&&O(document.body,"user-select",""),O($,"transform",""),t&&(Er&&(t.cancelable&&t.preventDefault(),!n.dropBubble)&&t.stopPropagation(),j&&j.parentNode&&j.parentNode.removeChild(j),(Y===F||W&&"clone"!==W.lastPutMode)&&_&&_.parentNode&&_.parentNode.removeChild(_),$)&&(this.nativeDraggable&&r($,"dragend",this),Br($),$.style["will-change"]="",Er&&!kr&&N($,(W||this).options.ghostClass,!1),N($,this.options.chosenClass,!1),B({sortable:this,name:"unchoose",toEl:F,newIndex:null,newDraggableIndex:null,originalEvent:t}),Y!==F?(0<=X&&(B({rootEl:F,name:"add",toEl:F,fromEl:Y,originalEvent:t}),B({sortable:this,name:"remove",toEl:F,originalEvent:t}),B({rootEl:F,name:"sort",toEl:F,fromEl:Y,originalEvent:t}),B({sortable:this,name:"sort",toEl:F,originalEvent:t})),W&&W.save()):X!==hr&&0<=X&&(B({sortable:this,name:"update",toEl:F,originalEvent:t}),B({sortable:this,name:"sort",toEl:F,originalEvent:t})),z.active)&&(null!=X&&-1!==X||(X=hr,mr=pr),B({sortable:this,name:"end",toEl:F,originalEvent:t}),this.save())),this._nulling()},_nulling:function(){R("nulling",this),Y=$=F=j=cr=_=dr=ur=fr=gr=Er=X=mr=hr=pr=Sr=Lr=W=vr=z.dragged=z.ghost=z.clone=z.active=null,qr.forEach(function(t){t.checked=!0}),qr.length=yr=_r=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":$&&(this._onDragOver(t),(e=t).dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable)&&e.preventDefault();break;case"selectstart":t.preventDefault()}var e},toArray:function(){for(var t,e=[],n=this.el.children,a=0,i=n.length,r=this.options;a<i;a++)Ri(t=n[a],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,a=0;n--;)a+=e.charCodeAt(n);return a.toString(36)}(t));return e},sort:function(t,e){var n={},a=this.el;this.toArray().forEach(function(t,e){e=a.children[e];Ri(e,this.options.draggable,a,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(a.removeChild(n[t]),a.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Ri(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var a=er.modifyOption(this,t,e);n[t]=void 0!==a?a:e,"group"===t&&ir(n)},destroy:function(){R("destroy",this);var t=this.el;t[V]=null,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ar.splice(Ar.indexOf(this.el),1),this.el=t=null},_hideClone:function(){ur||(R("hideClone",this),z.eventCanceled)||(O(_,"display","none"),this.options.removeCloneOnHide&&_.parentNode&&_.parentNode.removeChild(_),ur=!0)},_showClone:function(t){"clone"===t.lastPutMode?ur&&(R("showClone",this),z.eventCanceled||($.parentNode!=Y||this.options.group.revertClone?cr?Y.insertBefore(_,cr):Y.appendChild(_):Y.insertBefore(_,$),this.options.group.revertClone&&this.animate($,_),O(_,"display",""),ur=!1)):this._hideClone()}},Nr&&l(document,"touchmove",function(t){(z.active||kr)&&t.cancelable&&t.preventDefault()}),z.utils={on:l,off:r,css:O,find:Fi,is:function(t,e){return!!Ri(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:Gi,closest:Ri,toggleClass:N,clone:Ji,index:P,nextTick:Fr,cancelNextTick:jr,detectDirection:ar,getChild:Xi},z.get=function(t){return t[V]},z.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(z.utils=ki(ki({},z.utils),t.utils)),er.mount(t)})},z.create=function(t,e){return new z(t,e)};var Yr,Xr,Wr,zr,Ur,Zr,A=[],Gr=!(z.version="1.15.0");function Kr(){A.forEach(function(t){clearInterval(t.pid)}),A=[]}function Jr(){clearInterval(Zr)}function Qr(t){var e=t.originalEvent,n=t.putSortable,a=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,o=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,o(),o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(o.clientX,o.clientY),t(),i)&&!i.el.contains(e)&&(r("spill"),this.onSpill({dragEl:a,putSortable:n}))}var to=Gi(function(n,t,e,a){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=ji(),d=!1,u=0,h=Yr=Xr!==e&&(Xr=e,Kr(),Yr=t.scroll,i=t.scrollFn,!0===Yr)?Ui(e,!0):Yr;do{var p=h,m=H(p),v=m.top,f=m.bottom,g=m.left,y=m.right,_=m.width,m=m.height,b=void 0,w=void 0,E=p.scrollWidth,S=p.scrollHeight,L=O(p),C=p.scrollLeft,k=p.scrollTop,w=p===c?(b=_<E&&("auto"===L.overflowX||"scroll"===L.overflowX||"visible"===L.overflowX),m<S&&("auto"===L.overflowY||"scroll"===L.overflowY||"visible"===L.overflowY)):(b=_<E&&("auto"===L.overflowX||"scroll"===L.overflowX),m<S&&("auto"===L.overflowY||"scroll"===L.overflowY)),L=b&&(Math.abs(y-r)<=s&&C+_<E)-(Math.abs(g-r)<=s&&!!C),b=w&&(Math.abs(f-o)<=s&&k+m<S)-(Math.abs(v-o)<=s&&!!k);if(!A[u])for(var x=0;x<=u;x++)A[x]||(A[x]={});A[u].vx==L&&A[u].vy==b&&A[u].el===p||(A[u].el=p,A[u].vx=L,A[u].vy=b,clearInterval(A[u].pid),0==L&&0==b)||(d=!0,A[u].pid=setInterval(function(){a&&0===this.layer&&z.active._onTouchMove(Ur);var t=A[this.layer].vy?A[this.layer].vy*l:0,e=A[this.layer].vx?A[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(z.dragged.parentNode[V],e,t,n,Ur,A[this.layer].el)||Ki(A[this.layer].el,e,t)}.bind({layer:u}),24)),u++}while(t.bubbleScroll&&h!==c&&(h=Ui(h,!1)));Gr=d}},30);function eo(){}function no(){}eo.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,t=t.putSortable,n=(this.sortable.captureAnimationState(),t&&t.captureAnimationState(),Xi(this.sortable.el,this.startIndex,this.options));n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),t&&t.animateAll()},drop:Qr},Ai(eo,{pluginName:"revertOnSpill"}),no.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:Qr},Ai(no,{pluginName:"removeOnSpill"});var ao=z;ao.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?l(document,"dragover",this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):t.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?r(document,"dragover",this._handleAutoScroll):(r(document,"pointermove",this._handleFallbackAutoScroll),r(document,"touchmove",this._handleFallbackAutoScroll),r(document,"mousemove",this._handleFallbackAutoScroll)),Jr(),Kr(),clearTimeout(Vi),Vi=void 0},nulling:function(){Ur=Xr=Yr=Gr=Zr=Wr=zr=null,A.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var a,i=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,o);Ur=e,n||this.options.forceAutoScrollFallback||Mi||Ti||qi?(to(e,this.options,t,n),a=Ui(t,!0),!Gr||Zr&&r===Wr&&o===zr||(Zr&&Jr(),Zr=setInterval(function(){var t=Ui(document.elementFromPoint(r,o),!0);t!==a&&(a=t,Kr()),to(e,i.options,t,n)},10),Wr=r,zr=o)):this.options.bubbleScroll&&Ui(t,!0)!==ji()?to(e,this.options,Ui(t,!1),!1):Kr()}},Ai(t,{pluginName:"scroll",initializeByDefault:!0})});const io={animation:150,handle:"[data-sortable-handle]",scroll:!0,scrollSensitivity:50},ro=ao;function oo(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class so{constructor(){var{initLabelText:t,initInputValue:e,dataOptions:n}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};oo(this,"elem",document.createElement("div")),oo(this,"_head",document.createElement("div")),oo(this,"_body",document.createElement("div")),oo(this,"_wrapper",document.createElement("div")),oo(this,"_items",document.createElement("ul")),oo(this,"buttonAdd",document.createElement("button")),this._initLabelText=t||"",this._initInputValue=e||"",this._dataOptions=n||[],this._init()}get wrapper(){return this._wrapper}_createHead(){this._head.classList.add("reports-filters-list__head");var t=document.createElement("input"),e=(t.classList.add("reports-filters-list__value"),t.setAttribute("data-filters-item-input",""),t.type="text",t.value=this._initInputValue,document.createElement("span"));e.classList.add("reports-filters-list__label"),e.setAttribute("data-reports-filters-button",""),e.textContent=this._initLabelText,this.buttonAdd.classList="reports-filters-list__add reports-filters-list__add_remove",this.buttonAdd.type="button",this.buttonAdd.insertAdjacentHTML("afterbegin",'\n<svg viewBox="0 0 14 14">\n  <path\n    d="M7 1V7M7 13V7M7 7H13M7 7H1.75H1"\n    stroke-width="1.5"\n    stroke-linecap="round"\n  />\n</svg>\n'),this._head.append(t),this._head.append(e),this._head.append(this.buttonAdd)}_createBody(){this._body.classList.add("reports-filters-list__body"),this._body.setAttribute("data-reports-filters-body",""),this._wrapper.classList.add("reports-filters-list__wrapper"),this._wrapper.setAttribute("data-custom-scrollbar",""),this._items.classList.add("reports-filters__items"),Array.isArray(this._dataOptions)&&this._dataOptions.forEach(t=>{var[t,e]=t,n=document.createElement("li");n.classList.add("reports-filters__item"),n.setAttribute("data-filters-item-value",t),n.textContent=e,this._items.append(n)}),this._items.insertAdjacentHTML("beforeend",'\n<label\n  class="reports-filters-list__caledar input input_calendar"\n  date-datepicker-range\n>\n  <div class="input__group">\n    <input\n      type="text"\n      placeholder="Выберите даты"\n      readonly\n      data-dp-position="top left"\n    />\n  </div>\n</label>\n'),this._wrapper.append(this._items),this._body.append(this._wrapper)}_init(){this.elem.classList.add("reports-filters-list"),this.elem.setAttribute("data-reports-filters-list",""),this._createHead(),this._createBody(),this.elem.append(this._head),this.elem.append(this._body)}}class lo{constructor(t){var e;(e="visibleClass")in this?Object.defineProperty(this,e,{value:"show",enumerable:!0,configurable:!0,writable:!0}):this[e]="show",this.container=t,this.lists=this.container.querySelectorAll("[data-reports-filters-list]"),this.buttons=this.container.querySelectorAll("[data-reports-filters-button]"),this.initHeightContainer=null,this.currentList=null,this.currentBody=null,this.init()}showBody(){this.initHeightContainer=this.container.offsetHeight;var t=parseInt(window.getComputedStyle(this.container,null).paddingBottom.match(/\d+/)),e=this.currentBody.offsetHeight,t=this.container.getBoundingClientRect().bottom-this.currentList.getBoundingClientRect().bottom-t;this.container.style.minHeight=this.initHeightContainer+e-t+"px",this.currentList.classList.add(this.visibleClass)}closeBody(){this.currentList.classList.remove(this.visibleClass),this.container.style.minHeight=this.initHeightContainer+"px";const t=()=>{this.container.style.removeProperty("min-height"),this.container.removeEventListener("transitionend",t)};this.container.addEventListener("transitionend",t)}handleClickForButton(t){t.preventDefault();t=t.target;this.currentList=t.closest("[data-reports-filters-list]"),this.currentBody=this.currentList.querySelector("[data-reports-filters-body]"),this.currentList.classList.contains("show")||this.showBody()}addHandleForButton(){if(this.buttons.length){const e=this.handleClickForButton.bind(this);this.buttons.forEach(t=>{t.addEventListener("click",e)})}}addHandleForParent(){this.lists.length&&this.lists.forEach(e=>{e.addEventListener("click",t=>{t=t.target;e===t&&this.closeBody()})})}init(){this.container&&this.lists.length&&this.buttons.length&&(this.lists=[...this.lists],this.buttons=[...this.buttons],this.addHandleForButton(),this.addHandleForParent())}}function co(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class uo{constructor(t){co(this,"_filtersContainer",null),co(this,"_input",null),co(this,"_label",null),co(this,"_items",null),co(this,"_calendar",null),this._parent=t,this._handleClickItem=this._handleClickItem.bind(this),this._handleChangeCalendar=this._handleChangeCalendar.bind(this),this._init()}_setParent(){this._parent&&("string"==typeof this._parent&&(this._parent=document.body.querySelector(this._parent)),this._parent instanceof Element||(this._parent=null))}_setData(t,e){this._label.textContent=t,this._input.value=e,this._parent.classList.remove("show"),this._filtersContainer.style.removeProperty("min-height")}_handleClickItem(t){var t=t["target"],e=t.textContent,t=t.dataset.filtersItemValue;this._setData(e,t)}_handleChangeCalendar(t){t=t.target;t.value.split(" - ").length<2||this._setData(t.value,t.value)}_setEventForItems(){var t=this._calendar.querySelector("input");this._items.forEach(t=>{t.addEventListener("click",this._handleClickItem)}),t&&t.addEventListener("change",this._handleChangeCalendar)}_init(){this._setParent(),this._parent&&(this._filtersContainer=this._parent.closest("[data-reports-filters-container]"),this._input=this._parent.querySelector("[data-filters-item-input]"),this._label=this._parent.querySelector(".reports-filters-list__label"),this._items=this._parent.querySelectorAll(".reports-filters__item"),this._calendar=this._parent.querySelector(".reports-filters-list__caledar"),this._filtersContainer)&&this._input&&this._label&&this._setEventForItems()}}function ho(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}const po={initLabelText:"За всё время",initInputValue:"all",dataOptions:[["all","За всё время"],["yesterday","За вчера"],["today","За сегодня"],["current-week","За текущую неделю"],["last-week","За прошедшую неделю"],["current-month","За текущий месяц"],["past-month","За прошедший месяц"]]};class mo{constructor(t){ho(this,"_container",null),ho(this,"_addButtons",null),this._element=t,this._handleClickAddButton=this._handleClickAddButton.bind(this),this._init()}_setElement(){this.element&&("string"==typeof this.element&&(this.element=document.body.querySelector(this.element)),this.element instanceof Element||(this.element=null))}_handleClickAddButton(){const t=document.createElement("div");t.classList.add("reports-filters__row");var e=new so(po),n=e.elem,a=e.wrapper,e=e.buttonAdd,i=document.createElement("div"),r=(i.classList.add("reports-filters__col"),i.innerHTML='<span class="reports-filters__label">Дата создания</span>',document.createElement("div"));r.classList.add("reports-filters__col"),r.append(n),t.append(i),t.append(r),this._container.append(t),e.addEventListener("click",()=>{t.remove()}),new lo(this._element),new uo(n),Ei(a,Si),S()}_setEventForAddButtons(){this._addButtons.forEach(t=>{t.addEventListener("click",this._handleClickAddButton)})}_init(){this._setElement(),this._element&&(this._container=this._element.querySelector(".reports-filters__rows"),this._addButtons=this._element.querySelectorAll(".reports-filters-list__add"),this._container)&&this._addButtons.length&&this._setEventForAddButtons()}}class vo{constructor(t){this.element=t,this.input=null,this.itemsContainer=null,this.items=null,this.foundEmptyNotification=null,this.init()}setElement(){this.element&&("string"==typeof this.element&&(this.element=document.body.querySelector(this.element)),this.element instanceof Element||(this.element=null))}setItems(){this.itemsContainer=this.element.querySelector(".reports-filters-list__checkboxes"),this.itemsContainer&&(this.items=this.itemsContainer.querySelectorAll(".checkbox__text"),this.items&&this.items.length?(this.items=[...this.items],this.foundEmptyNotification=this.itemsContainer.querySelector(".reports-filters-list__found-empty")):this.items=null)}handleInput(t){let e=t["key"],n=!1,a=this.input.value.trim();e&&"Escape"===e&&(a=this.input.value="");var i=new RegExp(a,"gi");for(const t of this.items){const e=t.closest(".reports-filters-list__checkbox");t.textContent.match(i)?(e.style.removeProperty("display"),n=!0):e.style.display="none"}this.foundEmptyNotification&&(n?this.foundEmptyNotification.classList.remove("visible"):this.foundEmptyNotification.classList.add("visible"))}setHandleForInput(){var t;this.input=this.element.querySelector("[data-reports-searching-input]"),this.input&&(t=this.handleInput.bind(this),this.setItems(),this.input.addEventListener("input",t),this.input.addEventListener("keydown",t))}init(){this.setElement(),this.element&&this.setHandleForInput()}}function fo(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class go{constructor(t){fo(this,"_labelDefault",null),fo(this,"_labelCount",null),fo(this,"_labelSpanCount",null),fo(this,"_checkboxes",null),fo(this,"_inputs",null),fo(this,"_count",0),this._parent=t,this._handleChangeInput=this._handleChangeInput.bind(this),this._init()}_setParent(){this._parent&&("string"==typeof this._parent&&(this._parent=document.body.querySelector(this._parent)),this._parent instanceof Element||(this._parent=null))}_handleChangeInput(t){t=t.target;t.checked?this._count++:this._count--,this._count<=0?(this._count=0,this._labelDefault.classList.remove("hidden"),this._labelCount.classList.add("hidden")):(this._labelDefault.classList.add("hidden"),this._labelCount.classList.remove("hidden")),this._labelSpanCount.textContent=this._count}_setEventForInputs(){this._inputs.forEach(t=>{t.addEventListener("change",this._handleChangeInput)})}_init(){this._setParent(),this._parent&&(this._labelDefault=this._parent.querySelector(".reports-filters-list__label-default"),this._labelCount=this._parent.querySelector(".reports-filters-list__label-count"),this._checkboxes=this._parent.querySelector(".reports-filters-list__checkboxes"),this._labelDefault)&&this._labelCount&&this._checkboxes&&(this._labelSpanCount=this._labelCount.querySelector("span"),this._inputs=this._checkboxes.querySelectorAll("input"),this._labelSpanCount)&&this._inputs.length&&this._setEventForInputs()}}function yo(t,e){var n,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;t&&e&&((n=document.createElement("div")).classList="modal-button-edit__item",n.setAttribute("data-elem-remove",""),n.dataset.additionsId=a,(a=document.createElement("span")).classList="modal-button-edit__text",a.textContent=e,(e=document.createElement("button")).classList="modal-button-edit__remove",e.type="button",e.setAttribute("data-elem-remove-button",""),e.innerHTML=Eo,n.append(a),n.append(e),wo(n),t.append(n))}function _o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("div"),n=(e.classList="crm-settings-trans-stages__input input",document.createElement("div")),a=(n.classList="input__group",document.createElement("input"));return a.type="text",a.placeholder="Введите название",a.value=t,n.append(a),e.append(n),{inputWrapper:e,input:a}}function bo(){var{inputValue:t="",colorName:e=""}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement("div"),a=(n.classList="crm-settings-trans-stages__row",document.createElement("div")),{inputWrapper:t,input:i}=(a.classList="crm-settings-trans-stages__move-button",a.dataset.sortableHandle="",a.innerHTML='\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M20.293 23.293 17 26.586V5.414l3.293 3.293a1 1 0 0 0 1.414-1.414l-5-5a.99.99 0 0 0-.326-.217 1 1 0 0 0-.764 0 .99.99 0 0 0-.326.217l-5 5a1 1 0 0 0 1.414 1.414L15 5.414v21.172l-3.293-3.293a1 1 0 0 0-1.414 1.414l5 5a1 1 0 0 0 1.416 0l5-5a1 1 0 0 0-1.414-1.414z"\n    ></path>\n  </svg>\n  ',_o(t)),r=document.createElement("div"),o=(r.classList="crm-settings-trans-stages__controls",document.createElement("div")),s=(o.classList="crm-settings-trans-stages__color",document.createElement("input"));return s.type="color",s.value=e,(e=document.createElement("button")).classList="crm-settings-trans-stages__delete",e.type="button",e.innerHTML='\n  <svg viewBox="0 0 23 25" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M22.2395 10.2946H0.760484C0.306048 10.2946 0 10.0013 0 9.55682V6.6146C0 5.44127 1.06653 4.41016 2.3 4.41016H20.7C21.9335 4.41016 23 5.44127 23 6.6146V9.55682C23 9.85015 22.694 10.2946 22.2395 10.2946ZM1.53024 8.82793H21.4698V6.6146C21.4698 6.17904 21.1637 5.88571 20.7 5.88571H2.3C1.83629 5.88571 1.53024 6.17904 1.53024 6.6146V8.82793Z"\n    />\n    <path\n      d="M17.6395 25.0009H5.36052C3.21818 25.0009 1.53027 23.3831 1.53027 21.3209V9.56092C1.53027 9.12536 1.83632 8.83203 2.30003 8.83203C2.75447 8.83203 3.06052 9.12536 3.06052 9.56092V21.3209C3.06052 22.5031 4.13632 23.5254 5.36052 23.5254H17.6395C18.8637 23.5254 19.9395 22.5031 19.9395 21.3209V9.56092C19.9395 9.12536 20.2456 8.83203 20.7 8.83203C21.1637 8.83203 21.4698 9.12536 21.4698 9.56092V21.3209C21.4698 23.3831 19.7819 25.0009 17.6395 25.0009Z"\n    />\n    <path\n      d="M15.3285 5.14666H13.7982V2.20444C13.7982 1.76889 13.4922 1.47555 13.0285 1.47555H9.96797C9.50426 1.47555 9.19821 1.76889 9.19821 2.20444V5.14666H7.66797V2.20444C7.66797 1.03111 8.7345 0 9.96797 0H13.0285C14.2619 0 15.3285 1.03111 15.3285 2.20444V5.14666Z"\n    />\n    <path\n      d="M6.89769 20.5855C6.43398 20.5855 6.12793 20.2921 6.12793 19.8477V13.9633C6.12793 13.5277 6.43398 13.2344 6.89769 13.2344C7.35212 13.2344 7.66745 13.5277 7.66745 13.9633V19.8477C7.66745 20.2921 7.35212 20.5855 6.89769 20.5855Z"\n    />\n    <path\n      d="M11.5002 20.5855C11.0365 20.5855 10.7305 20.2921 10.7305 19.8477V13.9633C10.7305 13.5277 11.0365 13.2344 11.5002 13.2344C11.9639 13.2344 12.27 13.5277 12.27 13.9633V19.8477C12.27 20.2921 11.9639 20.5855 11.5002 20.5855Z"\n    />\n    <path\n      d="M16.1018 20.5855C15.6474 20.5855 15.332 20.2921 15.332 19.8477V13.9633C15.332 13.5277 15.6474 13.2344 16.1018 13.2344C16.5655 13.2344 16.8715 13.5277 16.8715 13.9633V19.8477C16.8715 20.2921 16.5655 20.5855 16.1018 20.5855Z"\n    />\n  </svg>\n  ',o.append(s),r.append(o),r.append(e),n.append(a),n.append(t),n.append(r),{row:n,input:i,inputColor:s,btnDel:e}}const wo=t=>{var e;(t=(e=>{if(e){let t=null;return"string"==typeof e&&(t=document.body.querySelector(e)),t=e instanceof Element?e:t}})(t))&&(e=t.querySelector("[data-elem-remove-button]"))&&e.addEventListener("click",()=>{t.remove()})},Eo='\n<svg viewBox="0 0 23 25">\n  <path\n    d="M22.2395 10.2946H0.760484C0.306048 10.2946 0 10.0013 0 9.55682V6.6146C0 5.44127 1.06653 4.41016 2.3 4.41016H20.7C21.9335 4.41016 23 5.44127 23 6.6146V9.55682C23 9.85015 22.694 10.2946 22.2395 10.2946ZM1.53024 8.82793H21.4698V6.6146C21.4698 6.17904 21.1637 5.88571 20.7 5.88571H2.3C1.83629 5.88571 1.53024 6.17904 1.53024 6.6146V8.82793Z"\n  />\n  <path\n    d="M17.6395 25.0009H5.36052C3.21818 25.0009 1.53027 23.3831 1.53027 21.3209V9.56092C1.53027 9.12536 1.83632 8.83203 2.30003 8.83203C2.75447 8.83203 3.06052 9.12536 3.06052 9.56092V21.3209C3.06052 22.5031 4.13632 23.5254 5.36052 23.5254H17.6395C18.8637 23.5254 19.9395 22.5031 19.9395 21.3209V9.56092C19.9395 9.12536 20.2456 8.83203 20.7 8.83203C21.1637 8.83203 21.4698 9.12536 21.4698 9.56092V21.3209C21.4698 23.3831 19.7819 25.0009 17.6395 25.0009Z"\n  />\n  <path\n    d="M15.3285 5.14666H13.7982V2.20444C13.7982 1.76889 13.4922 1.47555 13.0285 1.47555H9.96797C9.50426 1.47555 9.19821 1.76889 9.19821 2.20444V5.14666H7.66797V2.20444C7.66797 1.03111 8.7345 0 9.96797 0H13.0285C14.2619 0 15.3285 1.03111 15.3285 2.20444V5.14666Z"\n  />\n  <path\n    d="M6.89769 20.5855C6.43398 20.5855 6.12793 20.2921 6.12793 19.8477V13.9633C6.12793 13.5277 6.43398 13.2344 6.89769 13.2344C7.35212 13.2344 7.66745 13.5277 7.66745 13.9633V19.8477C7.66745 20.2921 7.35212 20.5855 6.89769 20.5855Z"\n  />\n  <path\n    d="M11.5002 20.5855C11.0365 20.5855 10.7305 20.2921 10.7305 19.8477V13.9633C10.7305 13.5277 11.0365 13.2344 11.5002 13.2344C11.9639 13.2344 12.27 13.5277 12.27 13.9633V19.8477C12.27 20.2921 11.9639 20.5855 11.5002 20.5855Z"\n  />\n  <path\n    d="M16.1018 20.5855C15.6474 20.5855 15.332 20.2921 15.332 19.8477V13.9633C15.332 13.5277 15.6474 13.2344 16.1018 13.2344C16.5655 13.2344 16.8715 13.5277 16.8715 13.9633V19.8477C16.8715 20.2921 16.5655 20.5855 16.1018 20.5855Z"\n  />\n</svg>\n',So=t=>{var e=document.createElement("span");return e.classList="crm-settings-trans-stages__label",e.textContent=t,e};function n(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}const Lo={title:"",id:0,color:"#000000",count:0};class Co{constructor(t){var{data:t,labelText:e}=t;n(this,"_block",document.createElement("div")),n(this,"_group",document.createElement("div")),n(this,"_items",[]),n(this,"_buttonAdd",document.createElement("div")),n(this,"reset",()=>{this._group.innerHTML="",this._items=[],this._initData=[Lo,Lo],this._initData.forEach(()=>this._addNewItem())}),n(this,"_handleDragEnd",t=>{const e=t.newIndex,n=t.oldIndex;var a;e!==n&&(t=this._items[n],(a=this._items.filter((t,e)=>e!==n)).splice(e,0,t),this._items=a)}),n(this,"_createItem",()=>{this._block.classList="crm-settings-trans-stages__new-stage";const t=So(this._labelText);this._group.classList="crm-settings-trans-stages__group",this._buttonAdd.classList="crm-settings-trans-stages__add-stage button-secondary button-secondary_light",this._buttonAdd.textContent="Добавить этап";for(const t of this._initData){var e=t.title,n=t.color,{row:e,input:n,inputColor:a,btnDel:i}=bo({inputValue:e,colorName:n});this._group.append(e),this._items.push({row:e,input:n,inputColor:a,btnDel:i,data:t})}this._block.append(t),this._block.append(this._group),this._block.append(this._buttonAdd),new ro(this._group,{...io,onEnd:t=>{this._handleDragEnd(t)}})}),n(this,"_addNewItem",()=>{const e={...Lo},{row:t,input:n,inputColor:a,btnDel:i}=bo();this._group.append(t),this._items.push({row:t,input:n,btnDel:i,inputColor:a,data:e}),n.addEventListener("input",t=>{this._changeInputValue(t,e)}),a.addEventListener("change",t=>{this._changeInputColorValue(t,e)}),i.addEventListener("click",()=>{this._removeItem(t,e)})}),n(this,"_changeInputValue",(t,e)=>{e.title=t.target.value}),n(this,"_changeInputColorValue",(t,e)=>{e.color=t.target.value}),n(this,"_removeItem",(e,t)=>{0<t.count?stage_error(t.count):(this._items=this._items.filter(t=>t.row!==e),e.remove())}),n(this,"_setEvents",()=>{this._items.forEach(t=>{const{row:e,input:n,inputColor:a,btnDel:i,data:r}=t;n.addEventListener("input",t=>{this._changeInputValue(t,r)}),a.addEventListener("change",t=>{this._changeInputColorValue(t,r)}),i.addEventListener("click",()=>{this._removeItem(e,r)})}),this._buttonAdd.addEventListener("click",()=>{this._addNewItem()})}),n(this,"_init",()=>{this._createItem(),this._setEvents()}),this._initData=t,this._labelText=e||"",this._init()}get block(){return this._block}get items(){return this._items}get data(){const e=[];return this._items.forEach(t=>{t.data.title&&e.push(t.data)}),e}}function ko(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class xo{constructor(t,e){ko(this,"_stageName",document.createElement("div")),ko(this,"_stageNameInput",null),ko(this,"_stageBlocksInstance",[]),ko(this,"reset",()=>{this._stageNameInput.value="",this._stageBlocksInstance.forEach(t=>t.reset())}),ko(this,"_setStageName",()=>{this._stageName.classList="crm-settings-trans-stages__name";const t=So("Введите название воронки"),{inputWrapper:e,input:n}=_o(this._data.title);this._stageName.append(t),this._stageName.append(e),(this._stageNameInput=n).addEventListener("input",()=>{this._data.title=n.value})}),ko(this,"_setStageBlocks",()=>{for(const n in this._data){var t,e;n.includes("block")&&(e=(t=>{let e="";switch(t){case 1:e="Этапы, находящихся в работе";break;case 2:e="Этапы реализованных сделок";break;case 3:e="Этапы отказных сделок"}return e})(parseInt(n.match(/\d+/))),t=this._data[n],e=new Co({labelText:e,data:t}),this._stageBlocksInstance.push(e))}}),ko(this,"_render",()=>{this._element.innerHTML="",this._element.append(this._stageName),this._stageBlocksInstance.forEach(t=>{t=t.block;this._element.append(t)})}),ko(this,"_init",()=>{this._element&&(this._setStageName(),this._setStageBlocks(),this._render())}),this._element=(t=t)&&(t="string"==typeof t?document.body.querySelector(t):t)instanceof Element?t:null,this._data=e,this._init()}get get(){const n={title:this._data.title,id:this._data.id};return this._stageBlocksInstance.forEach((t,e)=>{e="block_"+(e+1),t=t.data;n[e]=t}),n}set set(t){t&&(this._stageName.innerHTML="",this._data=t,this._stageBlocksInstance=[],this._init())}}const Ao={title:"",id:0,block_1:[{title:"",id:0,color:"#000000",count:0},{title:"",id:0,color:"#000000",count:0}],block_2:[{title:"",id:0,color:"#000000",count:0},{title:"",id:0,color:"#000000",count:0}],block_3:[{title:"",id:0,color:"#000000",count:0},{title:"",id:0,color:"#000000",count:0}]};let Do=null;function To(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class Mo{constructor(t,e){To(this,"_count",0),To(this,"_wrapper",document.createElement("div")),To(this,"_items",new Array),To(this,"_buttonAdd",document.createElement("button")),To(this,"_deleteItem",e=>{e.remove(),this._items=this._items.filter(t=>t[0]!==e)}),To(this,"_createItems",()=>{this._dataInit.forEach(t=>{this._addItem(t)})}),To(this,"_addItem",t=>{var e=(t=t||{title:"",tab_id:0})["title"];t.id=this._count++;const{item:n,input:a,buttonEdit:i,buttonDelete:r}=function(t){var e,t=0<arguments.length&&void 0!==t?t:"",n=document.createElement("div"),a=(n.classList="crm-settings-buttons-logic__item",document.createElement("div")),i=(a.classList="crm-settings-buttons-logic__row",(e=document.createElement("div")).classList="crm-settings-buttons-logic__move-button",e.dataset.sortableHandle="",e.innerHTML='\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M20.293 23.293 17 26.586V5.414l3.293 3.293a1 1 0 0 0 1.414-1.414l-5-5a.99.99 0 0 0-.326-.217 1 1 0 0 0-.764 0 .99.99 0 0 0-.326.217l-5 5a1 1 0 0 0 1.414 1.414L15 5.414v21.172l-3.293-3.293a1 1 0 0 0-1.414 1.414l5 5a1 1 0 0 0 1.416 0l5-5a1 1 0 0 0-1.414-1.414z"\n    ></path>\n  </svg>\n  ',document.createElement("div")),r=(i.classList="crm-settings-buttons-logic__input input",document.createElement("div")),o=(r.classList="input__group",document.createElement("input")),{controlsRow:t,buttonEdit:s,buttonDelete:l}=(o.type="text",o.placeholder="Ведите название",o.value=t||"",(t=document.createElement("div")).classList="crm-settings-buttons-logic__controls",(s=document.createElement("button")).classList="crm-settings-buttons-logic__edit",s.type="button",s.innerHTML='\n  <svg viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M0.892578 30L3.12734 22.6196L19.3124 6.33621L21.7504 3.88348L24.2081 1.41081C24.9838 0.630408 26.2442 0.623173 27.0288 1.39462L29.4609 3.78591C30.2507 4.56247 30.2589 5.83305 29.4793 6.61981L26.8971 9.22551L24.5269 11.6173L8.40951 27.8815L0.892578 30Z"\n      fill="white"\n    />\n    <path\n      d="M3.12734 22.6196L0.892578 30L8.40951 27.8815M3.12734 22.6196L8.40951 27.8815M3.12734 22.6196L19.3124 6.33621M8.40951 27.8815L24.5269 11.6173M26.8971 9.22551L29.4793 6.61981C30.2589 5.83305 30.2507 4.56247 29.4609 3.78591L27.0288 1.39462C26.2442 0.623173 24.9838 0.630408 24.2081 1.41081L21.7504 3.88348M26.8971 9.22551L21.7504 3.88348M26.8971 9.22551L24.5269 11.6173M21.7504 3.88348L19.3124 6.33621M19.3124 6.33621L24.5269 11.6173"\n      stroke-width="1.5"\n      stroke-linejoin="round"\n    />\n  </svg>\n  ',(l=document.createElement("button")).classList="crm-settings-buttons-logic__delete",l.type="button",l.innerHTML='\n  <svg viewBox="0 0 23 25" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M22.2395 10.2946H0.760484C0.306048 10.2946 0 10.0013 0 9.55682V6.6146C0 5.44127 1.06653 4.41016 2.3 4.41016H20.7C21.9335 4.41016 23 5.44127 23 6.6146V9.55682C23 9.85015 22.694 10.2946 22.2395 10.2946ZM1.53024 8.82793H21.4698V6.6146C21.4698 6.17904 21.1637 5.88571 20.7 5.88571H2.3C1.83629 5.88571 1.53024 6.17904 1.53024 6.6146V8.82793Z"\n    />\n    <path\n      d="M17.6395 25.0009H5.36052C3.21818 25.0009 1.53027 23.3831 1.53027 21.3209V9.56092C1.53027 9.12536 1.83632 8.83203 2.30003 8.83203C2.75447 8.83203 3.06052 9.12536 3.06052 9.56092V21.3209C3.06052 22.5031 4.13632 23.5254 5.36052 23.5254H17.6395C18.8637 23.5254 19.9395 22.5031 19.9395 21.3209V9.56092C19.9395 9.12536 20.2456 8.83203 20.7 8.83203C21.1637 8.83203 21.4698 9.12536 21.4698 9.56092V21.3209C21.4698 23.3831 19.7819 25.0009 17.6395 25.0009Z"\n    />\n    <path\n      d="M15.3285 5.14666H13.7982V2.20444C13.7982 1.76889 13.4922 1.47555 13.0285 1.47555H9.96797C9.50426 1.47555 9.19821 1.76889 9.19821 2.20444V5.14666H7.66797V2.20444C7.66797 1.03111 8.7345 0 9.96797 0H13.0285C14.2619 0 15.3285 1.03111 15.3285 2.20444V5.14666Z"\n    />\n    <path\n      d="M6.89769 20.5855C6.43398 20.5855 6.12793 20.2921 6.12793 19.8477V13.9633C6.12793 13.5277 6.43398 13.2344 6.89769 13.2344C7.35212 13.2344 7.66745 13.5277 7.66745 13.9633V19.8477C7.66745 20.2921 7.35212 20.5855 6.89769 20.5855Z"\n    />\n    <path\n      d="M11.5002 20.5855C11.0365 20.5855 10.7305 20.2921 10.7305 19.8477V13.9633C10.7305 13.5277 11.0365 13.2344 11.5002 13.2344C11.9639 13.2344 12.27 13.5277 12.27 13.9633V19.8477C12.27 20.2921 11.9639 20.5855 11.5002 20.5855Z"\n    />\n    <path\n      d="M16.1018 20.5855C15.6474 20.5855 15.332 20.2921 15.332 19.8477V13.9633C15.332 13.5277 15.6474 13.2344 16.1018 13.2344C16.5655 13.2344 16.8715 13.5277 16.8715 13.9633V19.8477C16.8715 20.2921 16.5655 20.5855 16.1018 20.5855Z"\n    />\n  </svg>\n  ',t.append(s),t.append(l),{controlsRow:t,buttonEdit:s,buttonDelete:l});return r.append(o),i.append(r),a.append(e),a.append(i),a.append(t),n.append(a),{item:n,input:o,buttonEdit:s,buttonDelete:l}}(e);this._wrapper.append(n),this._items.push([n,t]),r.addEventListener("click",()=>{this._deleteItem(n)}),a.addEventListener("input",()=>{t.title=a.value}),i.addEventListener("click",()=>{open_dialog(t.id)})}),To(this,"_handleDragEnd",t=>{var e=t.newIndex,n=t.oldIndex;if(e!==n){const a=t.item,i=this._items.filter(t=>t[0]!==a);i.splice(e,0,this._items[n]),this._items=i}}),To(this,"_init",()=>{this._element&&(this._element.innerHTML="",this._wrapper.classList="crm-settings-buttons-logic__wrapper",this._buttonAdd.classList="crm-settings-buttons-logic__add-button button-secondary button-secondary_light",this._buttonAdd.textContent="Добавить",this._createItems(),this._element.append(this._wrapper),this._element.append(this._buttonAdd),this._buttonAdd.addEventListener("click",()=>{this._addItem()}),new ro(this._wrapper,{...io,onEnd:t=>{this._handleDragEnd(t)}}))}),this._element=(t=t)&&(t="string"==typeof t?document.body.querySelector(t):t)instanceof Element?t:null,this._dataInit=e,this._init()}get get(){const e=new Array;return this._items.forEach(t=>{t=t[1];t.title&&e.push(t)}),e}set set(t){if(!t)return t+" - не объект!";this._count=0,this._wrapper.innerHTML="",this._items=new Array,this._dataInit=t,this._createItems()}}const Io=[{title:""},{title:""},{title:""}];let qo=null;function No(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class Oo{constructor(t,e){No(this,"_count",0),No(this,"_wrapper",document.createElement("div")),No(this,"_items",new Array),No(this,"_buttonAdd",document.createElement("button")),No(this,"_deleteItem",e=>{e.remove(),this._items=this._items.filter(t=>t[0]!==e)}),No(this,"_createItems",()=>{this._dataInit.forEach(t=>{this._addItem(t)})}),No(this,"_addItem",t=>{var e=(t=t||{title:"",tab_id:0})["title"];t.id=this._count++;const{item:n,input:a,buttonEdit:i,buttonDelete:r}=function(t){var e,t=0<arguments.length&&void 0!==t?t:"",n=document.createElement("div"),a=(n.classList="crm-settings-fields-card__item",document.createElement("div")),i=(a.classList="crm-settings-fields-card__row",(e=document.createElement("div")).classList="crm-settings-fields-card__move-button",e.dataset.sortableHandle="",e.innerHTML='\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M20.293 23.293 17 26.586V5.414l3.293 3.293a1 1 0 0 0 1.414-1.414l-5-5a.99.99 0 0 0-.326-.217 1 1 0 0 0-.764 0 .99.99 0 0 0-.326.217l-5 5a1 1 0 0 0 1.414 1.414L15 5.414v21.172l-3.293-3.293a1 1 0 0 0-1.414 1.414l5 5a1 1 0 0 0 1.416 0l5-5a1 1 0 0 0-1.414-1.414z"\n    ></path>\n  </svg>\n  ',document.createElement("div")),r=(i.classList="crm-settings-fields-card__input input",document.createElement("div")),o=(r.classList="input__group",document.createElement("input")),{controlsRow:t,buttonEdit:s,buttonDelete:l}=(o.type="text",o.placeholder="Ведите название",o.value=t||"",(t=document.createElement("div")).classList="crm-settings-fields-card__controls",(s=document.createElement("button")).classList="crm-settings-fields-card__edit",s.type="button",s.innerHTML='\n  <svg viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M0.892578 30L3.12734 22.6196L19.3124 6.33621L21.7504 3.88348L24.2081 1.41081C24.9838 0.630408 26.2442 0.623173 27.0288 1.39462L29.4609 3.78591C30.2507 4.56247 30.2589 5.83305 29.4793 6.61981L26.8971 9.22551L24.5269 11.6173L8.40951 27.8815L0.892578 30Z"\n      fill="white"\n    />\n    <path\n      d="M3.12734 22.6196L0.892578 30L8.40951 27.8815M3.12734 22.6196L8.40951 27.8815M3.12734 22.6196L19.3124 6.33621M8.40951 27.8815L24.5269 11.6173M26.8971 9.22551L29.4793 6.61981C30.2589 5.83305 30.2507 4.56247 29.4609 3.78591L27.0288 1.39462C26.2442 0.623173 24.9838 0.630408 24.2081 1.41081L21.7504 3.88348M26.8971 9.22551L21.7504 3.88348M26.8971 9.22551L24.5269 11.6173M21.7504 3.88348L19.3124 6.33621M19.3124 6.33621L24.5269 11.6173"\n      stroke-width="1.5"\n      stroke-linejoin="round"\n    />\n  </svg>\n  ',(l=document.createElement("button")).classList="crm-settings-fields-card__delete",l.type="button",l.innerHTML='\n  <svg viewBox="0 0 23 25" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M22.2395 10.2946H0.760484C0.306048 10.2946 0 10.0013 0 9.55682V6.6146C0 5.44127 1.06653 4.41016 2.3 4.41016H20.7C21.9335 4.41016 23 5.44127 23 6.6146V9.55682C23 9.85015 22.694 10.2946 22.2395 10.2946ZM1.53024 8.82793H21.4698V6.6146C21.4698 6.17904 21.1637 5.88571 20.7 5.88571H2.3C1.83629 5.88571 1.53024 6.17904 1.53024 6.6146V8.82793Z"\n    />\n    <path\n      d="M17.6395 25.0009H5.36052C3.21818 25.0009 1.53027 23.3831 1.53027 21.3209V9.56092C1.53027 9.12536 1.83632 8.83203 2.30003 8.83203C2.75447 8.83203 3.06052 9.12536 3.06052 9.56092V21.3209C3.06052 22.5031 4.13632 23.5254 5.36052 23.5254H17.6395C18.8637 23.5254 19.9395 22.5031 19.9395 21.3209V9.56092C19.9395 9.12536 20.2456 8.83203 20.7 8.83203C21.1637 8.83203 21.4698 9.12536 21.4698 9.56092V21.3209C21.4698 23.3831 19.7819 25.0009 17.6395 25.0009Z"\n    />\n    <path\n      d="M15.3285 5.14666H13.7982V2.20444C13.7982 1.76889 13.4922 1.47555 13.0285 1.47555H9.96797C9.50426 1.47555 9.19821 1.76889 9.19821 2.20444V5.14666H7.66797V2.20444C7.66797 1.03111 8.7345 0 9.96797 0H13.0285C14.2619 0 15.3285 1.03111 15.3285 2.20444V5.14666Z"\n    />\n    <path\n      d="M6.89769 20.5855C6.43398 20.5855 6.12793 20.2921 6.12793 19.8477V13.9633C6.12793 13.5277 6.43398 13.2344 6.89769 13.2344C7.35212 13.2344 7.66745 13.5277 7.66745 13.9633V19.8477C7.66745 20.2921 7.35212 20.5855 6.89769 20.5855Z"\n    />\n    <path\n      d="M11.5002 20.5855C11.0365 20.5855 10.7305 20.2921 10.7305 19.8477V13.9633C10.7305 13.5277 11.0365 13.2344 11.5002 13.2344C11.9639 13.2344 12.27 13.5277 12.27 13.9633V19.8477C12.27 20.2921 11.9639 20.5855 11.5002 20.5855Z"\n    />\n    <path\n      d="M16.1018 20.5855C15.6474 20.5855 15.332 20.2921 15.332 19.8477V13.9633C15.332 13.5277 15.6474 13.2344 16.1018 13.2344C16.5655 13.2344 16.8715 13.5277 16.8715 13.9633V19.8477C16.8715 20.2921 16.5655 20.5855 16.1018 20.5855Z"\n    />\n  </svg>\n  ',t.append(s),t.append(l),{controlsRow:t,buttonEdit:s,buttonDelete:l});return r.append(o),i.append(r),a.append(e),a.append(i),a.append(t),n.append(a),{item:n,input:o,buttonEdit:s,buttonDelete:l}}(e);this._wrapper.append(n),this._items.push([n,t]),r.addEventListener("click",()=>{this._deleteItem(n)}),a.addEventListener("input",()=>{t.title=a.value}),i.addEventListener("click",()=>{open_fields_dialog(t.id)})}),No(this,"_handleDragEnd",t=>{var e=t.newIndex,n=t.oldIndex;if(e!==n){const a=t.item,i=this._items.filter(t=>t[0]!==a);i.splice(e,0,this._items[n]),this._items=i}}),No(this,"_init",()=>{this._element&&(this._element.innerHTML="",this._wrapper.classList="crm-settings-fields-card__wrapper",this._buttonAdd.classList="crm-settings-fields-card__add-button button-secondary button-secondary_light",this._buttonAdd.textContent="Добавить",this._createItems(),this._element.append(this._wrapper),this._element.append(this._buttonAdd),this._buttonAdd.addEventListener("click",()=>{this._addItem()}),new ro(this._wrapper,{...io,onEnd:t=>{this._handleDragEnd(t)}}))}),this._element=(t=t)&&(t="string"==typeof t?document.body.querySelector(t):t)instanceof Element?t:null,this._dataInit=e,this._init()}get get(){const e=new Array;return this._items.forEach(t=>{t=t[1];t.title&&e.push(t)}),e}set set(t){if(!t)return t+" - не объект!";this._count=0,this._wrapper.innerHTML="",this._items=new Array,this._dataInit=t,this._createItems()}}const Ho=[{title:""},{title:""},{title:""}];let Po=null;const Ro=t=>{var e,n,a;return t&&(e=(a=document.body).querySelector(`[data-tab-filter-button="${t}"]`),n=a.querySelectorAll(`[data-tab-filter-body="${t}"]`),a=a.querySelectorAll(`[data-tab-filter-rest="${t}"]`),e)&&n.length?{button:e,bodys:n,rests:a}:null},Vo=t=>{var e,n;return t?(t=Ro(t))?({button:t,bodys:e,rests:n}=t,t.classList.remove("active"),e.forEach(t=>{t.style.display="none"}),void(n.length&&n.forEach(t=>{t.style.removeProperty("display")}))):"Элементы не найдены":"Неверный id"},Bo=document.body,$o=t=>{var e,n,t=t.target.dataset.tabFilterButton;t&&(t=t)&&(e=Bo.querySelector(`[data-tab-filter-button="${t}"]`))&&(e.classList.contains("active")?Vo(t):(e=t,(e=Ro(e))&&({button:e,bodys:t,rests:n}=e,e.classList.add("active"),t.forEach(t=>{t.style.removeProperty("display")}),n.length)&&n.forEach(t=>{t.style.display="none"})))},Fo=()=>{const e=document.body,t=e.querySelectorAll("[data-modal]");t.length&&t.forEach(t=>{e.classList.contains("no-scroll")&&e.classList.remove("no-scroll"),t.classList.remove("show")})},jo=t=>{var e=Wt.swiper;return e?isNaN(t)?"Неверно задан индекс недели!":void e.slideTo(t,0):"Отсутствует экземпляр swiper!"},Yo=()=>{var t=Wt.swiper;return t?t.realIndex:"Отсутствует экземпляр swiper!"};function a(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}const Xo=(t,e)=>{var n=((t,a)=>{let i="";return t.forEach((t,e)=>{const n=a[e]?"":"hidden";i+=`\n    <p class="item-clients-columns__text ${n}" data-setting-row="field_${e+1}">\n      Поле карточки ${e+1}: ${t}\n    </p>\n    `}),i})(t.fields,e.fields),a=e.first_name?"":"hidden",i=e.last_contact_time?"":"hidden",r=e.contact?"":"hidden",o=e.filial_name?"":"hidden",s=e.manager_name?"":"hidden",l=e.task_time?"":"hidden",e=e.stage_name?"":"hidden";return`
  <div class="item-clients-columns__header">
    <span class="item-clients-columns__name ${a}" data-setting-row="name"
      >${t.first_name}</span
    >
    <div class="item-clients-columns__stage ${e}" data-setting-row="stage"  style="background: ${t.color}">
      ${t.stage}
    </div>
  </div>

  <span class="item-clients-columns__last-contact ${i}">
    Последний контакт: <br />
    ${t.last_contact_time}
  </span>

  <span class="item-clients-columns__contacts ${r}" data-setting-row="contacts">
    Контакт:<span>${t.contact}</span>
  </span>

  <p class="item-clients-columns__text ${o}">Филиал: ${t.filial_name}</p>

  <p class="item-clients-columns__text">Чем интересовался: ускоренный курс</p>

  ${n}

  <span class="item-clients-columns__prompt"
    >Позвонить клиенту уточнить по поводу обучения</span
  >

  <div class="item-clients-columns__worker">
    <div class="item-clients-columns__worker-avatar image">
      <img src="${t.photo}" alt="avatar" />
    </div>

    <span class="item-clients-columns__worker-name ${s}"
      >${t.manager_name}</span
    >
  </div>

  <div class="item-clients-columns__date ${l}" data-setting-row="date">
    <span>Дата создания: ${t.task_time}</span>
    <span>Время</span>
  </div>

  <a class="item-clients-columns__link" href="${t.open_link}">Открыть</a>
  `};class Wo{constructor(t,e){a(this,"_id",null),a(this,"_swiperSlide",document.createElement("div")),a(this,"_headerTemplate",null),a(this,"_items",document.createElement("div")),a(this,"_leadsMap",new Map),a(this,"_os",null),a(this,"_osElements",null),a(this,"add",t=>{Array.isArray(t)?(t.forEach(t=>{var e=t.id,n=document.createElement("div"),a=(n.classList="clients-columns__item item-clients-columns",this._header.title),i=this._header.color,t={...t,stage:a,color:i},a=this._showInfo,i=(n.style.borderColor=i,Xo(t,a));n.insertAdjacentHTML("beforeend",i),(this._osElements?this._osElements.content:this._items).append(n),this._leadsMap.set(e,n)}),this._leads=[...this._leads,...t]):console.log(new Error(t+" - не массив"))}),a(this,"changeShowInfo",t=>{this._showInfo=t,this._osElements?this._osElements.content.innerHTML="":this._items.innerHTML="",this._getItems()}),a(this,"scroll",t=>{const e=this._osElements.content;e.addEventListener("scroll",()=>{e.scrollHeight-e.scrollTop-e.offsetHeight-100<=0&&t(this)})}),a(this,"_getHeader",()=>{this._id=this._header.id,this._id||console.log(new Error("ID задан не верно"));var t=this._header.color,e=this._header.title,n=this._header.total_count;t||console.log(new Error("Цвет задан не верно")),e||console.log(new Error("Заголовок задан не верно")),n||console.log(new Error("Количество задан не верно")),this._headerTemplate=`
      <div class="clients-columns__header" style="background: ${t}">
        <h4 class="clients-columns__title">${e}</h4>
        <span class="clinets-columns__item-value">${n} шт.</span>
      </div>  
    `}),a(this,"_getItems",()=>{this._items.classList="clients-columns__items",this._items.dataset.customScrollbar="",this._leads.forEach(t=>{var e=t.id,n=document.createElement("div"),a=(n.classList="clients-columns__item item-clients-columns",this._header.title),i=this._header.color,t={...t,stage:a,color:i},a=this._showInfo,i=(n.style.borderColor=i,Xo(t,a));n.insertAdjacentHTML("beforeend",i),(this._osElements?this._osElements.content:this._items).append(n),this._leadsMap.set(e,n)})}),a(this,"_getSwiperSlide",()=>{this._swiperSlide.classList="swiper-slide",this._swiperSlide.insertAdjacentHTML("beforeend",this._headerTemplate),this._swiperSlide.append(this._items),this._os=Ei(this._items,Si),this._osElements=this._os.elements()}),a(this,"_setEventScrollForItems",()=>{let t=null;(t=this._osElements?this._osElements.content:this._items).addEventListener("scroll",()=>{t.scrollHeight-t.scrollTop-t.offsetHeight<=0&&stage_scroll(this._id)})}),a(this,"_init",()=>{this._getHeader(),this._getItems(),this._getSwiperSlide(),this._setEventScrollForItems()}),this._header=t.header,this._leads=t.leads,this._showInfo=e,this._init()}get swiperSlide(){return this._swiperSlide}get id(){return this._id}}function zo(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}class Uo{constructor(t,e){zo(this,"_columns",document.body.querySelectorAll("[data-clients-columns]")),zo(this,"_instancesCols",[]),zo(this,"stageScroll",(e,t)=>{var n,a=this._instancesCols.filter(t=>t.id===e);if(!a.length)return"Этап не найден";for(n of a)n.scroll(t)}),zo(this,"add",(e,t)=>{var n,a=this._instancesCols.filter(t=>t.id===e);if(!a.length)return"Этап не найден";for(n of a)n.add(t)}),zo(this,"changeShowInfo",t=>{for(var e of this._instancesCols)e.changeShowInfo(t)}),zo(this,"_initColumns",()=>{this._columns.length&&(this._columns.forEach(t=>{const n=t.querySelector("[data-swiper-wrapper]");n.innerHTML="",this._data.forEach(t=>{var t=new Wo(t,this._showInfo),e=t.swiperSlide;n.append(e),this._instancesCols.push(t)})}),Nt.forEach(t=>t.update()))}),zo(this,"_init",()=>{this._initColumns()}),this._data=t,this._showInfo=e,this._init()}}let Zo=null;const Go=(t,e)=>{Zo=new Uo(t,e)},Ko=(t,e)=>{Zo&&Zo.add(t,e)},Jo=t=>{Zo&&Zo.changeShowInfo(t)},Qo=t=>{Do&&(Do.set=t)},ts=()=>{if(Do)return Do.get},es=()=>{Do&&Do.reset()},ns=t=>{qo&&(qo.set=t)},as=()=>{if(qo)return qo.get},is=t=>{Po&&(Po.set=t)},rs=()=>{if(Po)return Po.get},os=t=>{if(!t)return"Не верны id или data";const n=document.body.querySelector("[data-additions-items]");n&&(n.innerHTML="",t.forEach(t=>{var{title:t,id:e}=t;t&&yo(n,t,e||0)}))},ss=()=>{var t=document.body.querySelector("[data-additions-items]");if(!t)return"Не нашло радителя data-additions-items";t=t.querySelectorAll(".modal-button-edit__item");if(t.length){const n=new Array;return t.forEach(t=>{var e=t.querySelector(".modal-button-edit__text");e&&(e=e.textContent,t=+t.dataset.additionsId||0,e)&&n.push({title:e,id:t})}),n}},ls={day_1:!1,day_2:!1,day_3:!1,day_4:!1,day_5:!1,day_6:!1,day_7:!1},cs=(document.addEventListener("DOMContentLoaded",t=>{{const a=document.body.querySelector(".sidebar__list");a&&(a.addEventListener("mouseover",t=>{var{}=t;a.classList.contains("hover")||a.classList.add("hover")}),a.addEventListener("mouseout",t=>{t=t.relatedTarget;t&&(t.closest(".sidebar__list")===a?a.classList.add("hover"):a.classList.remove("hover"))}))}{const i=document.body,r=i.querySelector(".header__button"),o=i.querySelector(".sidebar"),s=i.querySelector(".head"),l=i.querySelector(".head__menu-button");if(r&&o){const c=()=>{r.classList.remove("active"),o.classList.remove("show"),i.classList.remove("no-scroll"),l&&(l.classList.remove("active"),s.classList.remove("active"))};r.onclick=()=>{l&&(l.classList.toggle("active"),s.classList.toggle("active")),r.classList.toggle("active"),o.classList.toggle("show"),i.classList.toggle("no-scroll")},l&&(l.onclick=()=>{r.classList.toggle("active"),s.classList.toggle("active"),l.classList.toggle("active"),o.classList.toggle("show"),i.classList.toggle("no-scroll")}),o.addEventListener("click",t=>{t=t.target;t===o&&c()}),window.addEventListener("resize",()=>{992<=i.offsetWidth&&o.classList.contains("show")&&!o.classList.contains("sidebar_move")&&c()})}}K(),qt(),dt(),(e=document.body.querySelectorAll("[ data-input-file-multiple]")).length&&e.forEach(t=>{const e=t.querySelector("input[type='file'][multiple]"),n=t.querySelector(".input-file-multiple__text");e&&n&&(e.onchange=()=>{var t=e.files.length;n.textContent=t?"Количество файлов: "+t:"Прикрепить файлы"})}),(e=document.body.querySelectorAll("[data-input-number]")).length&&e.forEach(t=>{const e=t.querySelector(".input-number__plus"),n=t.querySelector('input[type="number"]'),a=t.querySelector(".input-number__minus");e&&n&&a&&(e.onclick=()=>n.value=++n.value,a.onclick=()=>{n.value=n.value<=0?0:--n.value},n.oninput=()=>{n.value=n.value<=0?0:n.value})});e=document.body.querySelectorAll('[data-mask="tel"]');if(e.length){const d=new Inputmask("+7 (999) 999-99-99");e.forEach(t=>d.mask(t))}e=document.body.querySelectorAll('[data-mask="hour"]');if(e.length){const u=new Inputmask("999 ч.");e.forEach(t=>{u.mask(t),t.oninput=ht})}e=document.body.querySelectorAll('[data-mask="min"]');if(e.length){const h=new Inputmask("999 мин.");e.forEach(t=>{h.mask(t),t.oninput=ht})}e=document.body.querySelectorAll('[data-mask="time"]');if(e.length){const p=new Inputmask({regex:"[0-2][0-9]:[0-5][0-9]"});e.forEach(t=>{p.mask(t),t.oninput=pt})}{const m=document.body,v=m.querySelectorAll("[data-label-mobile]");if(v.length){const f=(t,e)=>{var n=t.dataset.labelMobile||t.textContent;t.dataset.labelInit||(t.dataset.labelInit=t.textContent),m.offsetWidth<e?t.textContent=n:t.dataset.labelInit&&(t.textContent=t.dataset.labelInit)};v.forEach(t=>{f(t,576)}),window.addEventListener("resize",()=>{v.forEach(t=>{f(t,576)})})}}{const g=document.body,y=g.querySelectorAll("[data-label-table]");if(y.length){const _=(t,e)=>{var n=t.dataset.labelTable||t.textContent;t.dataset.labelInit||(t.dataset.labelInit=t.textContent),g.offsetWidth<e?t.textContent=n:t.dataset.labelInit&&(t.textContent=t.dataset.labelInit)};y.forEach(t=>{_(t,768)}),window.addEventListener("resize",()=>{y.forEach(t=>{_(t,768)})})}}{const b=document.body,w=b.querySelectorAll(".table-mobile"),E=[];w.length&&(w.forEach(t=>{const e=t.querySelector(".table-mobile__menu");e&&(t=e.querySelector(".table-mobile__button"),E.push(e),t.onclick=()=>{e.classList.toggle("show");for(var t of E)t!==e&&t.classList.remove("show")})}),b.addEventListener("click",t=>{t=t.target;b.querySelector(".table-mobile__menu.show")&&!t.closest(".table-mobile__menu")&&E.forEach(t=>t.classList.remove("show"))}))}(function(t){t=document.querySelectorAll(0<arguments.length&&void 0!==t?t:"[data-spollers]");t.length&&t.forEach(t=>St(t))})(),(e=document.body.querySelectorAll(".profile")).length&&(e.forEach(t=>{const e=t.querySelector(".profile__button-mark"),n=t.querySelector(".menu-profile");e&&(e.onclick=()=>{e.classList.toggle("mark")}),n&&(n.querySelector(".menu-profile__dots-button").onclick=()=>{n.classList.toggle("show")})}),document.body.addEventListener("click",It));e=document.body.querySelector(".slider-calendar");if(e){const S=e.querySelector(".slider-calendar__month"),L=e.querySelector(".slider-calendar__swiper");L&&L.querySelector(".swiper-wrapper")&&new Swiper(L,{slidesPerView:1,spaceBetween:10,grabCursor:!0,autoHeight:!0,navigation:{nextEl:".slider-calendar__slide-next",prevEl:".slider-calendar__slide-prev"},on:{init:function(){var t;S&&(t=this.slides[0].dataset.monthName,S.textContent=t||S.textContent),Pt()}}}).on("slideChange",t=>{S&&(t=t.slides[t.activeIndex].dataset.monthName,S.textContent=t||S.textContent)})}(e=document.body.querySelectorAll(".clients-columns__slider")).length&&e.forEach(t=>{t=new Swiper(t,{slidesPerView:1,spaceBetween:20,grabCursor:!0,freeMode:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},breakpoints:{400:{slidesPerView:1.1,spaceBetween:20},500:{slidesPerView:1.5,spaceBetween:20},550:{slidesPerView:1.6,spaceBetween:20},655:{slidesPerView:1.9,spaceBetween:20},750:{slidesPerView:2.1,spaceBetween:20},992:{slidesPerView:2.1,spaceBetween:20},1100:{slidesPerView:2.4,spaceBetween:20},1300:{slidesPerView:2.8,spaceBetween:20},1650:{slidesPerView:3,spaceBetween:30}}});Nt.push(t)}),(e=document.body.querySelectorAll(".exam")).length&&e.forEach(t=>{const e=t.querySelector(".dates-exam__items"),n=t.querySelector(".dates-exam__added-item");e&&n&&(n.onclick=()=>{var t=e.querySelector(".dates-exam__item");t&&(t=t.cloneNode(!0),e.appendChild(t),(t=t.querySelectorAll("input")).length&&t.forEach(t=>{switch(t.type){case"tel":t.value="";break;case"checkbox":t.checked=!1}}),t=(t=e.querySelectorAll(".dates-exam__item"))[t.length-1].querySelector("[data-range-time]"),tt(t))})}),et(),Mt(ls),(e=document.body.querySelectorAll("[data-tab-radio][data-tab-radio-button]")).length&&e.forEach(t=>{t.hasAttribute("data-tab-radio-init")&&Z(t),t.onclick=()=>{Z(t)}}),(e=document.body.querySelectorAll("[data-tab-redraw]")).length&&e.forEach(t=>{t.addEventListener("click",G)}),(e=Bo.querySelectorAll("[data-tab-filter-button]")).length&&e.forEach(t=>{var e=t.dataset.tabFilterButton;e&&(Vo(e),t.addEventListener("click",$o))}),(e=document.body.querySelectorAll("[data-custom-scrollbar]")).length&&e.forEach(t=>{Ei(t,Si)}),(e=document.body.querySelectorAll("[data-clients-settings-checkbox]")).length&&e.forEach(t=>{Li(t),t.onchange=()=>Li(t)});e=document.body.querySelector(".mans-modal-mailing");if(e){const C=e.querySelector("[data-selected-all-mans]"),k=e.querySelectorAll("input[type='checkbox']:not([data-selected-all-mans])");C&&k.length&&(C.checked&&k.forEach(t=>t.checked=!0),C.onclick=()=>{const e=C.checked;k.forEach(t=>t.checked=e)},k.forEach(t=>{t.onclick=()=>{C.checked=!1}}))}(e=document.body.querySelectorAll(".modal-mailing")).length&&e.forEach(t=>{const e=t.querySelector('[data-mailing-action-time="now"]'),n=t.querySelector('[data-mailing-action-time="delay"]');e&&n&&(e.onchange=()=>{e.checked&&(n.checked=!1)},n.onchange=()=>{n.checked&&(e.checked=!1)})}),(e=document.body.querySelectorAll("[data-sortable]")).length&&e.forEach(t=>{"init"!==t.dataset.sortable&&(t.dataset.sortable="init",new ao(t,io))}),(e=document.querySelectorAll("[data-scrollbooster]")).length&&e.forEach(t=>{t=new x({viewport:t,scrollMode:"transform",direction:"horizontal",lockScrollOnDragDirection:"horizontal",onPointerDown(){this.content.style.cursor="grabbing"},onPointerUp(){this.content.style.removeProperty("cursor")}}),D.push(t)}),U(),(e=document.body.querySelectorAll("[data-reports-filters-container]")).length&&e.forEach(t=>{new lo(t),new mo(t)}),(e=document.body.querySelectorAll(".reports-filters-list")).length&&e.forEach(t=>{new vo(t),new go(t),new uo(t)}),e=document.body.querySelectorAll("[data-additions]"),n=document.body.querySelectorAll(".modal-button-edit"),e.length&&e.forEach(t=>{t=(e=>{if(e){let t=null;return"string"==typeof e&&(t=document.body.querySelector(e)),t=e instanceof Element?e:t}})(t);if(t){const e=t.querySelector("[data-additions-group]"),n=t.querySelector("[data-additions-input]"),a=t.querySelector("[data-additions-toggle]"),i=t.querySelector("[data-additions-cancel]");if(e&&n&&a&&i){const r=()=>{e.classList.toggle("hidden"),a.classList.toggle("hidden")};a.addEventListener("click",()=>{r()}),i.addEventListener("click",()=>{r(),n.value=""})}}}),n.length&&n.forEach(t=>{t=(e=>{if(e){let t=null;return"string"==typeof e&&(t=document.body.querySelector(e)),t=e instanceof Element?e:t}})(t);if(t){const e=t.querySelector("[data-additions-input]"),n=t.querySelector("[data-additions-add]"),a=t.querySelector("[data-additions-items]");e&&n&&a&&n.addEventListener("click",()=>{var t=e.value.trim();t.length<1||(yo(a,t),e.value="")})}}),(e=document.body.querySelectorAll("[data-elem-remove]")).length&&e.forEach(t=>{wo(t)}),Do=new xo("[data-stage]",Ao),(n=document.body.querySelector("[data-buttons-logic]"))&&(qo=new Mo(n,Io)),(e=document.body.querySelector("[data-fields]"))&&(Po=new Oo(e,Ho)),document.body.querySelector(".calendar[data-tab]")||document.body.querySelector(".clients[data-tab]")||Pt(),document.body.querySelector(".clients[data-tab]")&&Pt(!0);var e,n=document.body.querySelector("#note_message");n&&Bt(n.value)}),t=>Mt(t)),ds=()=>{return(t=document.body.querySelector(".workday"))&&(t=t.querySelectorAll(".item-workday")).length?Array.from(t).reduce((t,e,n)=>{var n="day_"+(n+1),a=e.querySelector('[data-workday-input="min"]'),i=e.querySelectorAll('[data-workday-input="range"]'),e=e.querySelector('[data-workday-input="max"]'),r=a.inputmask.unmaskedvalue(),o=e.inputmask.unmaskedvalue();return r.length<4||o.length<4?t[n]=!1:(r=(t=>{if(!t.length)return[];const e=[];return t.forEach(t=>{t.inputmask.unmaskedvalue().length<8||e.push(t.value.split(" - "))}),e})(i),t[n]={start:a.value,stop:e.value,breaks:r}),t},{}):null;var t},us=t=>function(t){let e=0<arguments.length&&void 0!==t?t:[];if(Array.isArray(e)&&e.length){var n=document.body.querySelector(".dates-exam__items");if(n&&!n.querySelector(".dates-exam__calendar")){n.innerHTML="";for(const r of e){const{start:e,stop:o,days:s}=r,l=document.createElement("div");l.classList.add("dates-exam__item");var a=((t,e)=>{let n=t&&e?`
    <div class="dates-exam__ranges" data-range-time>
      <div class="input-time">
        <span>С</span>
        <div class="input-time__group">
          <input type="tel" placeholder="**:**" value="${t}" />
        </div>
      </div>

      <div class="input-time">
        <span>До</span>
        <div class="input-time__group">
          <input type="tel" placeholder="**:**" value="${e}" />
        </div>
      </div>
    </div>
  `:"";return n})(e,o),i=Rt(s);l.insertAdjacentElement("afterbegin",i),l.insertAdjacentHTML("afterbegin",a),n.append(l)}et()}}}(t),hs=()=>{{var t=document.body.querySelector(".dates-exam");if(!t)return null;if(!(t=t.querySelectorAll(".dates-exam__item")).length)return null;let s=[];return t.forEach(e=>{const i=e.querySelector(".dates-exam__ranges"),t=(()=>{const n=[];var t;return e&&(t=e.querySelector(".days-week"))&&(t=t.querySelectorAll(".days-week__label")).length?(t.forEach(t=>{var e;t.querySelector("input").checked&&(e=t.querySelector("[data-workday-day]"))&&(t=(()=>{let t="";switch(e.dataset.workdayDay){case"пн":t=1;break;case"вт":t=2;break;case"ср":t=3;break;case"чт":t=4;break;case"пт":t=5;break;case"сб":t=6;break;case"вс":t=7;break;default:t=""}return t})(),n.push(t))}),n):null})(),n=e&&(o=e.querySelector(".dates-exam__calendar"))&&(o=o.querySelector("input"))&&(o=o.value)&&o.length?o:null,[a,r]=(()=>{var t,e,[n,a]=i.querySelectorAll("input");return n&&a&&(e=n.inputmask.unmaskedvalue(),t=a.inputmask.unmaskedvalue(),e=4==e.length?n.value:null,n=4==t.length?a.value:null,e)&&n?[e,n]:[]})();var o;a&&r&&(t&&t.length&&s.push({start:a,stop:r,days:t}),n)&&n.length&&s.push({start:a,stop:r,date:n})}),s}},ps=(t,e)=>function(t,e){let n=0<arguments.length&&void 0!==t?t:null,a=1<arguments.length&&void 0!==e?e:"[data-modal]";t=document.body.querySelector(a);if(t){e=t;if(e){const i=e.querySelector(".modal-load-file__input"),r=e.querySelector(".modal-load-file__selected");i&&r&&(i.onchange=()=>{var e=i.files[0];if(e){let t=e.name;10<t.length&&(t=t.slice(0,15)+"…"),r.innerHTML=`Выбранный файл: <span>${t}</span>`}else r.innerHTML=""})}if(t.hasAttribute("data-spollers")||t.querySelector("[data-spollers]")){const n=t.querySelector("[data-spollers]");St(n)}e=t.querySelector("#upd_item_id");n&&e&&(e.value=n),t.classList.add("show"),document.body.classList.add("no-scroll");{const o=document.body,s=o.querySelectorAll("[data-modal]");s.length&&s.forEach(a=>{a.onclick=t=>{var t=t["target"],e=t.classList.contains("modal__body"),n=t.hasAttribute("data-modal-wrapper"),t=t.closest("[data-modal-close]");(e||n||t)&&(a.classList.remove("show"),o.classList.remove("no-scroll"))}})}}}(t,e),ms=t=>function(t){const e=document.body,n=e.querySelector(`[data-search-result-id='${0<arguments.length&&void 0!==t?t:""}']`);if(n){n.classList.add("show");const a=t=>{var{}=t;n.classList.remove("show"),e.removeEventListener("click",a)};e.addEventListener("click",a)}}(t),vs=(t,e)=>Bt(t,e),fs=()=>{var t;(t=document.body.querySelectorAll("[data-search-result-id]")).length&&t.forEach(t=>{t.classList.contains("show")&&t.classList.remove("show")})},gs=(t,e)=>function(t,e){let n=0<arguments.length&&void 0!==t?t:"",a=1<arguments.length?e:void 0;if(!(a instanceof Function))return null;if(n&&""!==n){const i=document.body,r=i.querySelector(".confirm-user");r?(t=r.querySelector(".confirm-user__message"),r.classList.add("show"),i.classList.add("no-scroll"),t&&(t.textContent=n),r.onclick=t=>{t=t.target;return t.closest('[data-confirm-user-action="confirm"]')?(a(!0),void Ft(r)):t.closest('[data-confirm-user-action="reject"]')||t.classList.contains("confirm-user__body")?(a(!1),void Ft(r)):void 0}):a(!1)}else a(!1)}(t,e),ys=t=>function(t){let e=0<arguments.length&&void 0!==t?t:[],n=document.body.querySelector(".slider-timetable");if(!n||!Array.isArray(e)||!e.length)return null;const a=n.previousElementSibling;n.remove(),n=((t=document.createElement("div")).classList="timetable__slider slider-timetable swiper",t),(t=document.createElement("div")).classList.add("swiper-wrapper");var i=t;for(let t=0;t<e.length;t++){const a=e[t],r=function(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;const{start:n,stop:a,current:i}=t,r=document.createElement("div");r.classList.add("swiper-slide"),r.dataset.timetableDates=n+" - "+a,i&&(r.dataset.timtableInitCurrentSlide="");for(const a in t){const i=t[a];if(a.includes("day_")&&i){const t=+a[a.length-1],o=Qt(n,a),s=Kt(a,n),l=Jt(i,{currentDate:o,day_id:t,...e});r.insertAdjacentHTML("beforeend",s),r.insertAdjacentElement("beforeend",l)}}return r}(a,{arr_id:t});i.append(r)}n.append(i),a.insertAdjacentElement("afterend",n),Zt(n)}(t),_s=(t,e,n)=>function(t,e,n){let a=0<arguments.length&&void 0!==t?t:[],i=1<arguments.length&&void 0!==e?e:"webinar_open",r=2<arguments.length&&void 0!==n?n:null;if(!Array.isArray(a)||!a.length)return null;f.ACCOUNT_TYPE=i;const o=document.body.querySelector(".slider-calendar"),s=document.body.querySelector(".slider-calendar__swiper.swiper");if(!o||!s)return null;r&&(t=>{if(!t||!Array.isArray(t)||!t.length)return;pe(t),te(0),f.HAS_STATIC_DEFINITION=!0})(r),(t=document.body.querySelector(".calendar"))&&(e=t.querySelectorAll(".prompt-calendar"),t=t.querySelectorAll(".status-calendar"),e&&e.length&&e.forEach(t=>t.remove()),t)&&t.length&&t.forEach(t=>t.remove());var n=document.createElement("div"),l=(n.classList="slider-calendar__swiper swiper",document.createElement("div"));l.classList="swiper-wrapper";for(let t=0;t<a.length;t++){const r=a[t],o=me(r);l.append(o)}n.append(l),s.remove(),o.append(n),ee(n)}(t,e,n),bs=(t,e)=>y(t,e),ws=t=>{return t=t,(t=(t=d[t])&&t.selectedDates[0])?[Math.floor(+t/1e3),ve.format(t),fe.format(t)]:null},Es=(t,e)=>b(t,e),Ss=t=>{return t=t,(t=u[t])&&([t,e]=t.selectedDates.map(t=>[Math.floor(+t/1e3),ge.format(t),ye.format(t)]),t)?{from:t,to:e||!1}:null;var e},Ls=(t,e)=>w(t,e),Cs=n=>{{if(!(n=h[n])||!Array.isArray(n))return null;let t,e=null;var[n,a]=n,n;return(n=n.selectedDates[0])?(t=[Math.floor(+n/1e3),_e.format(n),be.format(n)],n=a.selectedDates[0],{from:t,to:(e=n?[Math.floor(+n/1e3),_e.format(n),be.format(n)]:e)||!1}):null}},ks=(t,e)=>{var n=e,e=document.body.querySelector("#"+t);if(e&&Array.isArray(n)&&n.length){var a=e.cloneNode(!0),i=a.querySelector(".select__header"),r=a.querySelector("[data-select-input]"),o=a.querySelector(".select__options");if(!i||!r||!o)return null;r.value="",r.dataset.inputValue="";var s,l,c,d,u,h=document.createElement("ul");h.classList="select__options";for({value:s,text:l}of n){c=s,d=l,u=void 0,(u=document.createElement("li")).classList="select__option",u.dataset.selectOption=c,u.textContent=d;const n=u;h.append(n)}return o.remove(),i.insertAdjacentElement("afterend",h),e.insertAdjacentElement("afterend",a),e.remove(),qt("#"+t),r}},xs=(t,e)=>{return e=e,t&&e&&(t=document.body.querySelector("#"+t))&&(n=t.querySelector("[data-select-input]"),t=t.querySelector(`[data-select-option="${e}"]`),n)&&t?(t=t.textContent,n.value=t.trim(),void(n.dataset.inputValue=e)):null;var n},As=t=>{return(t=document.body.querySelector("#"+t))?t.dataset.inputValue||"":null};return t});